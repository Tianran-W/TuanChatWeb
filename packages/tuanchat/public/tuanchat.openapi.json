{"openapi":"3.0.1","info":{"title":"团剧共创","description":"","version":"1.0.0"},"tags":[{"name":"user-controller"},{"name":"friend-controller"},{"name":"oss-controller"},{"name":"contact-controller"},{"name":"chat-controller"},{"name":"room-controller"},{"name":"role-controller"},{"name":"avatar-controller"}],"paths":{"/capi/user/public/login":{"post":{"summary":"login","deprecated":false,"description":"","operationId":"login","tags":["user-controller"],"parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLoginRequest"},"example":{"userId":"1","password":"123456"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResultString"},"examples":{"1":{"summary":"成功示例","value":{"success":true,"errCode":null,"errMsg":null,"data":"1"}}}}},"headers":{}}},"security":[{"bearer":[]}]}},"/capi/user/info":{"get":{"summary":"getUserInfo","deprecated":false,"description":"","operationId":"getUserInfo","tags":["user-controller"],"parameters":[{"name":"userId","in":"query","description":"","required":true,"example":1,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResultUserInfoResponse"},"examples":{"1":{"summary":"成功示例","value":{"success":true,"errCode":null,"errMsg":null,"data":{"userId":1,"username":"jxc","userMark":0,"userLevel":0,"avatar":"https://pic.imgdb.cn/item/66d5dddad9c307b7e954c9c4.webp","ipInfo":null,"activeStatus":0,"lastLoginTime":null,"createTime":"2024-08-27T19:22:16","updateTime":"2024-08-27T19:22:16","roles":[{"userId":1,"roleId":1,"roleName":"米可斯","description":"其他游戏借过来的吉祥物","createTime":"2024-09-02T23:58:16","updateTime":"2024-09-02T23:58:19","avatar":"https://pic.imgdb.cn/item/66d5e0e3d9c307b7e958a094.png"}]}}}}}},"headers":{}}},"security":[{"bearer":[]}]}},"/capi/user/friend/apply":{"post":{"summary":"apply","deprecated":false,"description":"","operationId":"apply","tags":["friend-controller"],"parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FriendApplyReq"},"example":{"msg":"好友申请","targetUid":1}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResultVoid"}}},"headers":{}}},"security":[{"bearer":[]}]},"get":{"summary":"好友审批同意或忽略","deprecated":false,"description":"","tags":[],"parameters":[],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{}},"example":{"applyId":1,"applyStatus":"AGREE"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{}}}},"headers":{}}},"security":[{"bearer":[]}]},"put":{"summary":"applyApprove","deprecated":false,"description":"","operationId":"applyApprove","tags":["friend-controller"],"parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FriendApproveReq"},"example":""}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResultVoid"}}},"headers":{}}},"security":[{"bearer":[]}]}},"/capi/user/friend/page":{"get":{"summary":"friendList","deprecated":false,"description":"","operationId":"friendList","tags":["friend-controller"],"parameters":[{"name":"pageSize","in":"query","description":"","required":false,"example":0,"schema":{"type":"integer","format":"int32"}},{"name":"cursor","in":"query","description":"","required":false,"example":"","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResultCursorPageBaseResponseFriendResp"}}},"headers":{}}},"security":[{"bearer":[]}]}},"/capi/user/friend/check":{"get":{"summary":"check","deprecated":false,"description":"","operationId":"check","tags":["friend-controller"],"parameters":[{"name":"uidList","in":"query","description":"","required":true,"example":"","schema":{"type":"array","items":{"type":"integer","format":"int64"}}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResultFriendCheckResp"}}},"headers":{}}},"security":[{"bearer":[]}]}},"/capi/user/public/register":{"post":{"summary":"注册","deprecated":false,"description":"","tags":[],"parameters":[],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"username":{"type":"string"}},"required":["username"]},"example":{"username":"杜芳","password":"123456"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{}}}},"headers":{}}},"security":[{"bearer":[]}]}},"/capi/user/friend/apply/unread":{"get":{"summary":"unread","deprecated":false,"description":"","operationId":"unread","tags":["friend-controller"],"parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResultFriendUnreadResp"}}},"headers":{}}},"security":[{"bearer":[]}]}},"/capi/user/friend/apply/page":{"get":{"summary":"page","deprecated":false,"description":"","operationId":"page","tags":["friend-controller"],"parameters":[{"name":"pageSize","in":"query","description":"","required":false,"example":0,"schema":{"type":"integer","format":"int32"}},{"name":"pageNo","in":"query","description":"","required":false,"example":0,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResultPageBaseRespFriendApplyResp"}}},"headers":{}}},"security":[{"bearer":[]}]}},"/capi/user/friend":{"delete":{"summary":"delete","deprecated":false,"description":"","operationId":"delete","tags":["friend-controller"],"parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FriendDeleteReq"},"example":{"targetUid":2}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResultVoid"}}},"headers":{}}},"security":[{"bearer":[]}]}},"/capi/oss/upload/url":{"get":{"summary":"getUploadUrl","deprecated":false,"description":"","operationId":"getUploadUrl","tags":["oss-controller"],"parameters":[{"name":"fileName","in":"query","description":"","required":true,"example":"","schema":{"type":"string"}},{"name":"scene","in":"query","description":"","required":true,"example":0,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResultOssResp"}}},"headers":{}}},"security":[{"bearer":[]}]}},"/capi/chat/contact/page":{"get":{"summary":"getRoomPage","deprecated":false,"description":"","operationId":"getRoomPage","tags":["contact-controller"],"parameters":[{"name":"pageSize","in":"query","description":"","required":false,"example":0,"schema":{"type":"integer","format":"int32"}},{"name":"cursor","in":"query","description":"","required":false,"example":"","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResultCursorPageBaseResponseChatRoomResp"},"examples":{"1":{"summary":"成功示例","value":{"success":true,"errCode":null,"errMsg":null,"data":{"cursor":"2024-09-03T20:09:18","isLast":true,"list":[{"roomId":1,"type":2,"text":"jxc:[图片]","name":"团剧共创实验群","avatar":"https://pic.imgdb.cn/item/66d5dae8d9c307b7e951e736.png","activeTime":"2024-09-09T11:17:04","unreadCount":29}]}}}}}},"headers":{}}},"security":[{"bearer":[]}]}},"/capi/chat/message":{"post":{"summary":"sendMessage","deprecated":false,"description":"","operationId":"sendMessage","tags":["chat-controller"],"parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatMessageRequest"},"example":"{   \r\n  \"roomId\": 1,  //会话id\r\n  \"roleId\": 1,\r\n  \"avatarId\":1,\r\n  \"msgType\": 1, //消息类型 1文本消息 2撤回消息 3.图片消息 4.文件 5.语音 6视频\r\n  \"body\": { \r\n    \"content\":\"测试测试11\", //文本消息内容\r\n    \"replyMsgId\":0,    //回复的消息id,如果没有别传就好\r\n    \"atUidList\":[]     //@的uid集合\r\n  },\r\n  //消息内容 根据类型不同请求不同\r\n}\r\n\r\n// { \r\n//   \"msgType\": 3,//消息类型 3图片消息 \r\n//   \"roomId\": 1, //会话id\r\n//   \"roleId\": 1,\r\n//   \"avatarId\":1,\r\n//   \"body\": {\r\n//     \"size\": 123,//大小（字节）\r\n// \t\t\"width\": 123,//宽度（像素）\r\n// \t\t\"height\": 123,//高度（像素）\r\n// \t\t\"url\": \"https://tuan-chat.oss-cn-beijing.aliyuncs.com/niu.jpg\"//下载地址\r\n//   },  //消息内容 根据类型不同请求不同\r\n// }\r\n\r\n// { \r\n//   \"msgType\": 4,//消息类型 4文件消息 \r\n//   \"roomId\": 0//会话id\r\n//   \"body\": {\r\n//     \"size\": 123,//大小（字节）\r\n// \t\t\"fileName\": file.text,//文件名\r\n// \t\t\"url\": \"www.baidu.com\"//下载地址\r\n//   },  //消息内容 根据类型不同请求不同\r\n// }"}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResult"},"examples":{"1":{"summary":"成功示例","value":{"success":true,"errCode":null,"errMsg":null,"data":{"content":"测试测试"}}}}}},"headers":{}}},"security":[{"bearer":[]}]},"put":{"summary":"updateMessage","deprecated":false,"description":"","operationId":"updateMessage","tags":["chat-controller"],"parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatMessageRequest"},"example":""}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResultTextMsgResp"}}},"headers":{}}},"security":[{"bearer":[]}]}},"/capi/room/info":{"get":{"summary":"groupDetail","deprecated":false,"description":"","operationId":"groupDetail","tags":["room-controller"],"parameters":[{"name":"roomId","in":"query","description":"","required":true,"example":1,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResultRoomResp"},"examples":{"1":{"summary":"成功示例","value":{"success":true,"errCode":null,"errMsg":null,"data":{"roomId":1,"groupName":"团剧共创实验群","avatar":"https://pic.imgdb.cn/item/66d5dae8d9c307b7e951e736.png","role":1}}}}}},"headers":{}}},"security":[{"bearer":[]}]}},"/capi/chat/message/mark":{"put":{"summary":"setMsgMark","deprecated":false,"description":"","operationId":"setMsgMark","tags":["chat-controller"],"parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatMessageMarkRequest"},"example":"{\r\n  \"syncId\": 2,\r\n  \"roomId\": 1,\r\n  \"markType\": 1,    // 标记类型 1角色反应\r\n  \"actType\": 1,     // 动作类型 1确认 2取消\r\n  \"avatarId\": 1     // 反应的头像\r\n}\r\n"}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResultVoid"}}},"headers":{}}},"security":[{"bearer":[]}]}},"/capi/chat/message/page":{"get":{"summary":"getMsgPage","deprecated":false,"description":"","operationId":"getMsgPage","tags":["chat-controller"],"parameters":[{"name":"pageSize","in":"query","description":"","required":false,"example":0,"schema":{"type":"integer","format":"int32"}},{"name":"cursor","in":"query","description":"","required":false,"example":"","schema":{"type":"string"}},{"name":"roomId","in":"query","description":"","required":true,"example":0,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResultCursorPageBaseResponseChatMessageResponse"},"examples":{"1":{"summary":"成功示例","value":{"success":true,"errCode":null,"errMsg":null,"data":{"cursor":"14","isLast":false,"list":[{"fromUser":{"uid":1},"message":{"syncId":14,"roomId":1,"sendTime":"2024-09-07T17:05:42","messageType":1,"body":{"content":"测试测试"},"messageMark":null}},{"fromUser":{"uid":1},"message":{"syncId":15,"roomId":1,"sendTime":"2024-09-07T17:08:32","messageType":9,"body":null,"messageMark":null}},{"fromUser":{"uid":1},"message":{"syncId":16,"roomId":1,"sendTime":"2024-09-07T17:08:37","messageType":9,"body":null,"messageMark":null}},{"fromUser":{"uid":1},"message":{"syncId":17,"roomId":1,"sendTime":"2024-09-07T17:08:50","messageType":9,"body":null,"messageMark":null}},{"fromUser":{"uid":1},"message":{"syncId":18,"roomId":1,"sendTime":"2024-09-07T17:09:14","messageType":9,"body":null,"messageMark":null}}]}}}}}},"headers":{}}},"security":[{"bearer":[]}]}},"/capi/room/group/roles":{"get":{"summary":"groupRole","deprecated":false,"description":"","operationId":"groupRole","tags":["room-controller"],"parameters":[{"name":"roomId","in":"query","description":"","required":true,"example":1,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResultListUserRole"}}},"headers":{}}},"security":[{"bearer":[]}]}},"/capi/room/group/member/page":{"get":{"summary":"getMemberPage","deprecated":false,"description":"","operationId":"getMemberPage","tags":["room-controller"],"parameters":[{"name":"roomId","in":"query","description":"","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResultListChatMemberResp"},"examples":{"1":{"summary":"成功示例","value":{"success":true,"errCode":null,"errMsg":null,"data":[{"uid":1,"roleId":1},{"uid":2,"roleId":2},{"uid":3,"roleId":3}]}}}}},"headers":{}}},"security":[{"bearer":[]}]}},"/capi/room/group/list":{"get":{"summary":"getUserGroups","deprecated":false,"description":"","operationId":"getUserGroups","tags":["room-controller"],"parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResultListRoomGroup"},"examples":{"1":{"summary":"成功示例","value":{"success":true,"errCode":null,"errMsg":null,"data":[{"roomId":1,"name":"团剧共创实验群","avatar":"https://pic.imgdb.cn/item/66d5dae8d9c307b7e951e736.png","description":"梦开始的地方。","deleteStatus":0,"createTime":"2024-09-02T23:38:49","updateTime":"2024-09-02T23:38:49","parentGroupId":0},{"roomId":14,"name":"terra","avatar":"https://pic.imgdb.cn/item/66df32bbd9c307b7e9c5bbbe.png","description":"默认描述","deleteStatus":0,"createTime":"2024-09-10T01:53:20","updateTime":"2024-09-10T01:53:20","parentGroupId":1},{"roomId":15,"name":"terra","avatar":"https://pic.imgdb.cn/item/66df32bbd9c307b7e9c5bbbe.png","description":"默认描述","deleteStatus":0,"createTime":"2024-09-10T02:12:42","updateTime":"2024-09-10T02:12:42","parentGroupId":1},{"roomId":16,"name":"terra,unkown","avatar":"https://pic.imgdb.cn/item/66df32bbd9c307b7e9c5bbbe.png","description":"默认描述","deleteStatus":0,"createTime":"2024-09-10T02:13:16","updateTime":"2024-09-10T02:13:16","parentGroupId":1},{"roomId":17,"name":"terra,unkown","avatar":"https://pic.imgdb.cn/item/66df32bbd9c307b7e9c5bbbe.png","description":"默认描述","deleteStatus":0,"createTime":"2024-09-10T13:01:30","updateTime":"2024-09-10T13:01:30","parentGroupId":1}]}}}}},"headers":{}}},"security":[{"bearer":[]}]}},"/capi/room/create/subgroup":{"get":{"summary":"创建子群","deprecated":false,"description":"","tags":[],"parameters":[],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{}},"example":{"parentRoomId":1,"groupMembers":[{"userId":2,"roleId":2,"avatarId":2,"roleName":"terra"},{"userId":3,"roleId":10001,"avatarId":10001,"roleName":"unkown"}]}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{}}}},"headers":{}}},"security":[{"bearer":[]}]}},"/capi/room/create/privatechat":{"get":{"summary":"创建私聊","deprecated":false,"description":"","tags":[],"parameters":[],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{}},"example":{"parentRoomId":1,"groupMembers":[{"userId":1,"roleId":null,"roleName":null,"avatarId":null},{"userId":2,"roleId":null,"roleName":null,"avatarId":null}]}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"errCode":{"type":"null"},"errMsg":{"type":"null"},"data":{"type":"object","properties":{"roomId":{"type":"integer"},"type":{"type":"integer"},"lastMessageId":{"type":"null"},"createTime":{"type":"string"},"updateTime":{"type":"string"},"lastActiveTime":{"type":"null"}},"required":["roomId","type","lastMessageId","createTime","updateTime","lastActiveTime"]}},"required":["success","errCode","errMsg","data"]}}},"headers":{}}},"security":[{"bearer":[]}]}},"/capi/role/ability":{"get":{"summary":"getRoleAbility","deprecated":false,"description":"","operationId":"getRoleAbility","tags":["role-controller"],"parameters":[{"name":"roleId","in":"query","description":"","required":true,"example":1,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResultRoleAbilityTable"},"examples":{"1":{"summary":"成功示例","value":{"success":true,"errCode":null,"errMsg":null,"data":{"roleId":1,"strength":0,"dexterity":0,"willpower":0,"constitution":0,"appearance":0,"education":0,"size":0,"intelligence":0,"sanity":0,"luck":0,"magicPoints":0,"healthPoints":0,"accounting":0,"anthropology":0,"appraisal":0,"archaeology":0,"acting":0,"charm":0,"climb":0,"computerUse":0,"creditRating":0,"cthulhuMythos":0,"disguise":0,"dodge":0,"drive":0,"electricRepair":0,"electronics":0,"fastTalk":0,"fistfight":0,"firearms":0,"firstAid":0,"history":0,"intimidate":0,"jump":0,"english":0,"russian":0,"law":0,"libraryUse":0,"listen":0,"locksmith":0,"machineRepair":0,"medicine":0,"naturalWorld":0,"navigation":0,"occult":0,"persuade":0,"psychology":0,"ride":0,"pharmacy":0,"sleightOfHand":0,"investigation":0,"stealth":0,"survival":0,"swim":0,"throwAbility":0,"track":0,"animalTraining":0,"demolition":0,"lipReading":0,"hypnosis":0,"artillery":0}}}}}},"headers":{}}},"security":[{"bearer":[]}]},"post":{"summary":"setRoleAbility","deprecated":false,"description":"","operationId":"setRoleAbility","tags":["role-controller"],"parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleAbilityTable"},"example":{"roleId":0,"strength":0,"dexterity":0,"willpower":0,"constitution":0,"appearance":0,"education":0,"size":0,"intelligence":0,"sanity":0,"luck":0,"magicPoints":0,"healthPoints":0,"accounting":0,"anthropology":0,"appraisal":0,"archaeology":0,"acting":0,"charm":0,"climb":0,"computerUse":0,"creditRating":0,"cthulhuMythos":0,"disguise":0,"dodge":0,"drive":0,"electricRepair":0,"electronics":0,"fastTalk":0,"fistfight":0,"firearms":0,"firstAid":0,"history":0,"intimidate":0,"jump":0,"english":0,"russian":0,"law":0,"libraryUse":0,"listen":0,"locksmith":0,"machineRepair":0,"medicine":0,"naturalWorld":0,"navigation":0,"occult":0,"persuade":0,"psychology":0,"ride":0,"pharmacy":0,"sleightOfHand":0,"investigation":0,"stealth":0,"survival":0,"swim":0,"throwAbility":0,"track":0,"animalTraining":0,"demolition":0,"lipReading":0,"hypnosis":0,"artillery":0}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResultObject"},"examples":{"1":{"summary":"成功示例","value":{"success":true,"errCode":null,"errMsg":null,"data":null}}}}},"headers":{}}},"security":[{"bearer":[]}]}},"/capi/role":{"get":{"summary":"getRole","deprecated":false,"description":"","operationId":"getRole","tags":["role-controller"],"parameters":[{"name":"roleId","in":"query","description":"","required":true,"example":1,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResultUserRole"}}},"headers":{}}},"security":[{"bearer":[]}]}},"/capi/role/avatar":{"get":{"summary":"getRoleAvatars","deprecated":false,"description":"","operationId":"getRoleAvatars","tags":["role-controller"],"parameters":[{"name":"roleId","in":"query","description":"","required":true,"example":1,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResultListRoleAvatar"},"examples":{"1":{"summary":"成功示例","value":{"success":true,"errCode":null,"errMsg":null,"data":{"roleId":1,"avatarId":1,"avatarTitle":"平常","avatarUrl":"https://pic.imgdb.cn/item/66d5e0e3d9c307b7e958a094.png","createTime":"2024-09-03T00:03:47","updateTime":"2024-09-03T00:03:47"}}}}}},"headers":{}}},"security":[{"bearer":[]}]}},"/capi/room/subgroup":{"post":{"summary":"createSubgroup","deprecated":false,"description":"","operationId":"createSubgroup","tags":["room-controller"],"parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubRoomRequest"},"example":""}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResultRoom"}}},"headers":{}}},"security":[{"bearer":[]}]}},"/capi/room/friend":{"post":{"summary":"createPrivateChat","deprecated":false,"description":"","operationId":"createPrivateChat","tags":["room-controller"],"parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubRoomRequest"},"example":""}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResultRoom"}}},"headers":{}}},"security":[{"bearer":[]}]}},"/capi/avatar":{"get":{"summary":"getRoleAvatar","deprecated":false,"description":"","operationId":"getRoleAvatar","tags":["avatar-controller"],"parameters":[{"name":"avatarId","in":"query","description":"ID 编号","required":true,"example":1,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResultRoleAvatar"}}},"headers":{}}},"security":[{"bearer":[]}]}}},"components":{"schemas":{"FriendApproveReq":{"required":["applyId","applyStatus"],"type":"object","properties":{"applyId":{"type":"integer","format":"int64"},"applyStatus":{"type":"string","enum":["WAIT_APPROVAL","AGREE","IGNORE"]}}},"ApiResultVoid":{"type":"object","properties":{"success":{"type":"boolean"},"errCode":{"type":"integer","format":"int32"},"errMsg":{"type":"string"},"data":{"type":"object","properties":{}}}},"ChatMessageRequest":{"required":["body","msgType","roomId"],"type":"object","properties":{"roomId":{"type":"integer","format":"int64"},"msgType":{"type":"integer","format":"int32"},"roleId":{"type":"integer","format":"int64"},"avatarId":{"type":"integer","format":"int64"},"body":{"type":"object","properties":{}}}},"ApiResultTextMsgResp":{"type":"object","properties":{"success":{"type":"boolean"},"errCode":{"type":"integer","format":"int32"},"errMsg":{"type":"string"},"data":{"$ref":"#/components/schemas/TextMsgResp"}}},"TextMsgResp":{"type":"object","properties":{"content":{"type":"string"}}},"ChatMessageMarkRequest":{"required":["actType","avatarId","markType","roomId","syncId"],"type":"object","properties":{"syncId":{"type":"integer","format":"int64"},"roomId":{"type":"integer","format":"int64"},"markType":{"type":"integer","format":"int32"},"actType":{"type":"integer","format":"int32"},"avatarId":{"type":"integer","format":"int64"}}},"UserLoginRequest":{"type":"object","properties":{"userId":{"type":"string"},"password":{"type":"string"}}},"ApiResultString":{"type":"object","properties":{"success":{"type":"boolean"},"errCode":{"type":"integer","format":"int32"},"errMsg":{"type":"string"},"data":{"type":"string"}}},"FriendApplyReq":{"required":["msg","targetUid"],"type":"object","properties":{"msg":{"type":"string"},"targetUid":{"type":"integer","format":"int64"}}},"GroupMember":{"type":"object","properties":{"userId":{"type":"integer","format":"int64"},"roleId":{"type":"integer","format":"int64"},"roleName":{"type":"string"},"avatarId":{"type":"integer","format":"int64"}}},"SubRoomRequest":{"type":"object","properties":{"parentRoomId":{"type":"integer","format":"int64"},"groupMembers":{"type":"array","items":{"$ref":"#/components/schemas/GroupMember"}}}},"ApiResultRoom":{"type":"object","properties":{"success":{"type":"boolean"},"errCode":{"type":"integer","format":"int32"},"errMsg":{"type":"string"},"data":{"$ref":"#/components/schemas/Room"}}},"Room":{"type":"object","properties":{"roomId":{"type":"integer","format":"int64"},"type":{"type":"integer","format":"int32"},"lastMessageId":{"type":"integer","format":"int64"},"createTime":{"type":"string","format":"date-time"},"updateTime":{"type":"string","format":"date-time"},"lastActiveTime":{"type":"string","format":"date-time"}}},"RoleAbilityTable":{"type":"object","properties":{"roleId":{"type":"integer","format":"int64"},"strength":{"type":"integer","format":"int32"},"dexterity":{"type":"integer","format":"int32"},"willpower":{"type":"integer","format":"int32"},"constitution":{"type":"integer","format":"int32"},"appearance":{"type":"integer","format":"int32"},"education":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"intelligence":{"type":"integer","format":"int32"},"sanity":{"type":"integer","format":"int32"},"luck":{"type":"integer","format":"int32"},"magicPoints":{"type":"integer","format":"int32"},"healthPoints":{"type":"integer","format":"int32"},"accounting":{"type":"integer","format":"int32"},"anthropology":{"type":"integer","format":"int32"},"appraisal":{"type":"integer","format":"int32"},"archaeology":{"type":"integer","format":"int32"},"acting":{"type":"integer","format":"int32"},"charm":{"type":"integer","format":"int32"},"climb":{"type":"integer","format":"int32"},"computerUse":{"type":"integer","format":"int32"},"creditRating":{"type":"integer","format":"int32"},"cthulhuMythos":{"type":"integer","format":"int32"},"disguise":{"type":"integer","format":"int32"},"dodge":{"type":"integer","format":"int64"},"drive":{"type":"integer","format":"int32"},"electricRepair":{"type":"integer","format":"int32"},"electronics":{"type":"integer","format":"int32"},"fastTalk":{"type":"integer","format":"int32"},"fistfight":{"type":"integer","format":"int32"},"firearms":{"type":"integer","format":"int32"},"firstAid":{"type":"integer","format":"int32"},"history":{"type":"integer","format":"int32"},"intimidate":{"type":"integer","format":"int32"},"jump":{"type":"integer","format":"int32"},"english":{"type":"integer","format":"int32"},"russian":{"type":"integer","format":"int32"},"law":{"type":"integer","format":"int32"},"libraryUse":{"type":"integer","format":"int32"},"listen":{"type":"integer","format":"int32"},"locksmith":{"type":"integer","format":"int32"},"machineRepair":{"type":"integer","format":"int32"},"medicine":{"type":"integer","format":"int32"},"naturalWorld":{"type":"integer","format":"int32"},"navigation":{"type":"integer","format":"int32"},"occult":{"type":"integer","format":"int32"},"persuade":{"type":"integer","format":"int32"},"psychology":{"type":"integer","format":"int32"},"ride":{"type":"integer","format":"int32"},"pharmacy":{"type":"integer","format":"int32"},"sleightOfHand":{"type":"integer","format":"int32"},"investigation":{"type":"integer","format":"int32"},"stealth":{"type":"integer","format":"int32"},"survival":{"type":"integer","format":"int32"},"swim":{"type":"integer","format":"int32"},"throwAbility":{"type":"integer","format":"int32"},"track":{"type":"integer","format":"int32"},"animalTraining":{"type":"integer","format":"int32"},"demolition":{"type":"integer","format":"int32"},"lipReading":{"type":"integer","format":"int32"},"hypnosis":{"type":"integer","format":"int32"},"artillery":{"type":"integer","format":"int32"}}},"ApiResultObject":{"type":"object","properties":{"success":{"type":"boolean"},"errCode":{"type":"integer","format":"int32"},"errMsg":{"type":"string"},"data":{"type":"object","properties":{}}}},"ApiResult":{"type":"object","properties":{"success":{"type":"boolean"},"errCode":{"type":"integer","format":"int32"},"errMsg":{"type":"string"},"data":{"type":"object","properties":{}}}},"ApiResultUserInfoResponse":{"type":"object","properties":{"success":{"type":"boolean"},"errCode":{"type":"integer","format":"int32"},"errMsg":{"type":"string"},"data":{"$ref":"#/components/schemas/UserInfoResponse"}}},"UserInfoResponse":{"type":"object","properties":{"userId":{"type":"integer","format":"int64"},"username":{"type":"string"},"userMark":{"type":"number"},"userLevel":{"type":"integer","format":"int32"},"avatar":{"type":"string"},"ipInfo":{"type":"string"},"activeStatus":{"type":"string","format":"byte"},"lastLoginTime":{"type":"string","format":"date-time"},"createTime":{"type":"string","format":"date-time"},"updateTime":{"type":"string","format":"date-time"},"roles":{"type":"array","items":{"$ref":"#/components/schemas/UserRole"}}}},"UserRole":{"type":"object","properties":{"userId":{"type":"integer","format":"int64"},"roleId":{"type":"integer","format":"int64"},"roleName":{"type":"string"},"description":{"type":"string"},"createTime":{"type":"string","format":"date-time"},"updateTime":{"type":"string","format":"date-time"},"avatar":{"type":"string"}}},"CursorPageBaseReq":{"type":"object","properties":{"pageSize":{"type":"integer","format":"int32"},"cursor":{"type":"string"}}},"ApiResultCursorPageBaseResponseFriendResp":{"type":"object","properties":{"success":{"type":"boolean"},"errCode":{"type":"integer","format":"int32"},"errMsg":{"type":"string"},"data":{"$ref":"#/components/schemas/CursorPageBaseResponseFriendResp"}}},"CursorPageBaseResponseFriendResp":{"type":"object","properties":{"cursor":{"type":"string"},"isLast":{"type":"boolean"},"list":{"type":"array","items":{"$ref":"#/components/schemas/FriendResp"}}}},"FriendResp":{"type":"object","properties":{"uid":{"type":"integer","format":"int64"},"activeStatus":{"type":"integer","format":"int32"}}},"FriendCheckReq":{"required":["uidList"],"type":"object","properties":{"uidList":{"type":"array","items":{"type":"integer","format":"int64"}}}},"ApiResultFriendCheckResp":{"type":"object","properties":{"success":{"type":"boolean"},"errCode":{"type":"integer","format":"int32"},"errMsg":{"type":"string"},"data":{"$ref":"#/components/schemas/FriendCheckResp"}}},"FriendCheck":{"type":"object","properties":{"uid":{"type":"integer","format":"int64"},"isFriend":{"type":"boolean"}}},"FriendCheckResp":{"type":"object","properties":{"checkedList":{"type":"array","items":{"$ref":"#/components/schemas/FriendCheck"}}}},"ApiResultFriendUnreadResp":{"type":"object","properties":{"success":{"type":"boolean"},"errCode":{"type":"integer","format":"int32"},"errMsg":{"type":"string"},"data":{"$ref":"#/components/schemas/FriendUnreadResp"}}},"FriendUnreadResp":{"type":"object","properties":{"unReadCount":{"type":"integer","format":"int64"}}},"PageBaseReq":{"type":"object","properties":{"pageSize":{"type":"integer","format":"int32"},"pageNo":{"type":"integer","format":"int32"}}},"ApiResultPageBaseRespFriendApplyResp":{"type":"object","properties":{"success":{"type":"boolean"},"errCode":{"type":"integer","format":"int32"},"errMsg":{"type":"string"},"data":{"$ref":"#/components/schemas/PageBaseRespFriendApplyResp"}}},"FriendApplyResp":{"type":"object","properties":{"uid":{"type":"integer","format":"int64"},"msg":{"type":"string"},"status":{"type":"integer","format":"int64"}}},"PageBaseRespFriendApplyResp":{"type":"object","properties":{"pageNo":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"totalRecords":{"type":"integer","format":"int64"},"isLast":{"type":"boolean"},"list":{"type":"array","items":{"$ref":"#/components/schemas/FriendApplyResp"}}}},"ApiResultRoomResp":{"type":"object","properties":{"success":{"type":"boolean"},"errCode":{"type":"integer","format":"int32"},"errMsg":{"type":"string"},"data":{"$ref":"#/components/schemas/RoomResp"}}},"RoomResp":{"type":"object","properties":{"roomId":{"type":"integer","format":"int64"},"groupName":{"type":"string"},"avatar":{"type":"string"},"groupType":{"type":"integer","format":"int32"}}},"ApiResultListUserRole":{"type":"object","properties":{"success":{"type":"boolean"},"errCode":{"type":"integer","format":"int32"},"errMsg":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/UserRole"}}}},"ApiResultListChatMemberResp":{"type":"object","properties":{"success":{"type":"boolean"},"errCode":{"type":"integer","format":"int32"},"errMsg":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/ChatMemberResp"}}}},"ChatMemberResp":{"type":"object","properties":{"uid":{"type":"integer","format":"int64"},"roleId":{"type":"integer","format":"int64"},"memberType":{"type":"integer","format":"int32"}}},"ApiResultListRoomGroup":{"type":"object","properties":{"success":{"type":"boolean"},"errCode":{"type":"integer","format":"int32"},"errMsg":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/RoomGroup"}}}},"RoomGroup":{"type":"object","properties":{"roomId":{"type":"integer","format":"int64"},"name":{"type":"string"},"avatar":{"type":"string"},"description":{"type":"string"},"deleteStatus":{"type":"integer","format":"int32"},"createTime":{"type":"string","format":"date-time"},"updateTime":{"type":"string","format":"date-time"},"parentGroupId":{"type":"integer","format":"int64"}}},"ApiResultUserRole":{"type":"object","properties":{"success":{"type":"boolean"},"errCode":{"type":"integer","format":"int32"},"errMsg":{"type":"string"},"data":{"$ref":"#/components/schemas/UserRole"}}},"ApiResultListRoleAvatar":{"type":"object","properties":{"success":{"type":"boolean"},"errCode":{"type":"integer","format":"int32"},"errMsg":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/RoleAvatar"}}}},"RoleAvatar":{"type":"object","properties":{"roleId":{"type":"integer","format":"int64"},"avatarId":{"type":"integer","format":"int64"},"avatarTitle":{"type":"string"},"avatarUrl":{"type":"string"},"createTime":{"type":"string","format":"date-time"},"updateTime":{"type":"string","format":"date-time"}}},"ApiResultRoleAbilityTable":{"type":"object","properties":{"success":{"type":"boolean"},"errCode":{"type":"integer","format":"int32"},"errMsg":{"type":"string"},"data":{"$ref":"#/components/schemas/RoleAbilityTable"}}},"UploadUrlReq":{"required":["fileName","scene"],"type":"object","properties":{"fileName":{"type":"string"},"scene":{"type":"integer","format":"int32"}}},"ApiResultOssResp":{"type":"object","properties":{"success":{"type":"boolean"},"errCode":{"type":"integer","format":"int32"},"errMsg":{"type":"string"},"data":{"$ref":"#/components/schemas/OssResp"}}},"OssResp":{"type":"object","properties":{"uploadUrl":{"type":"string"},"downloadUrl":{"type":"string"}}},"ChatMessagePageRequest":{"required":["roomId"],"type":"object","properties":{"pageSize":{"type":"integer","format":"int32"},"cursor":{"type":"string"},"roomId":{"type":"integer","format":"int64"}}},"ApiResultCursorPageBaseResponseChatMessageResponse":{"type":"object","properties":{"success":{"type":"boolean"},"errCode":{"type":"integer","format":"int32"},"errMsg":{"type":"string"},"data":{"$ref":"#/components/schemas/CursorPageBaseResponseChatMessageResponse"}}},"ChatMessageResponse":{"type":"object","properties":{"message":{"$ref":"#/components/schemas/Message"},"messageMark":{"$ref":"#/components/schemas/MessageMark"}}},"CursorPageBaseResponseChatMessageResponse":{"type":"object","properties":{"cursor":{"type":"string"},"isLast":{"type":"boolean"},"list":{"type":"array","items":{"$ref":"#/components/schemas/ChatMessageResponse"}}}},"Message":{"type":"object","properties":{"uid":{"type":"integer","format":"int64"},"roleId":{"type":"integer","format":"int64"},"avatarId":{"type":"integer","format":"int64"},"syncId":{"type":"integer","format":"int64"},"roomId":{"type":"integer","format":"int64"},"sendTime":{"type":"string","format":"date-time"},"messageType":{"type":"integer","format":"int32"},"body":{"type":"object","properties":{}}}},"MessageMark":{"type":"object","properties":{"likeCount":{"type":"integer","format":"int32"},"userLike":{"type":"integer","format":"int32"},"dislikeCount":{"type":"integer","format":"int32"},"userDislike":{"type":"integer","format":"int32"}}},"ApiResultCursorPageBaseResponseChatRoomResp":{"type":"object","properties":{"success":{"type":"boolean"},"errCode":{"type":"integer","format":"int32"},"errMsg":{"type":"string"},"data":{"$ref":"#/components/schemas/CursorPageBaseResponseChatRoomResp"}}},"ChatRoomResp":{"type":"object","properties":{"roomId":{"type":"integer","format":"int64"},"type":{"type":"integer","format":"int32"},"text":{"type":"string"},"name":{"type":"string"},"avatar":{"type":"string"},"activeTime":{"type":"string","format":"date-time"},"unreadCount":{"type":"integer","format":"int64"}}},"CursorPageBaseResponseChatRoomResp":{"type":"object","properties":{"cursor":{"type":"string"},"isLast":{"type":"boolean"},"list":{"type":"array","items":{"$ref":"#/components/schemas/ChatRoomResp"}}}},"ApiResultRoleAvatar":{"type":"object","properties":{"success":{"type":"boolean"},"errCode":{"type":"integer","format":"int32"},"errMsg":{"type":"string"},"data":{"$ref":"#/components/schemas/RoleAvatar"}}},"FriendDeleteReq":{"required":["targetUid"],"type":"object","properties":{"targetUid":{"type":"integer","format":"int64"}}},"GeneralMessage":{"type":"object","properties":{"roomId":{"description":"会话id","type":"integer"},"msgType":{"description":"消息类型 1文本消息 2撤回消息 3.图片消息 4.文件 5.语音 6视频","type":"integer"},"body":{"type":"object","properties":{},"description":"消息内容 根据类型不同请求不同"}},"required":["roomId","msgType","body"],"title":"发送消息请求体"}},"securitySchemes":{"bearer":{"type":"http","scheme":"bearer"}}},"servers":[]}