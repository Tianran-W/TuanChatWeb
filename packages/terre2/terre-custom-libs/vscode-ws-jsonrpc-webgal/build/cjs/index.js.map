{"version":3,"file":"index.js","sources":["../../src/disposable.ts","../../../../node_modules/vscode-jsonrpc/lib/common/ral.js","../../../../node_modules/vscode-jsonrpc/lib/common/is.js","../../../../node_modules/vscode-jsonrpc/lib/common/events.js","../../../../node_modules/vscode-jsonrpc/lib/common/semaphore.js","../../../../node_modules/vscode-jsonrpc/lib/common/messageReader.js","../../src/socket/reader.ts","../../../../node_modules/vscode-jsonrpc/lib/common/messageWriter.js","../../src/socket/writer.ts","../../node_modules/vscode-jsonrpc/lib/is.js","../../node_modules/vscode-jsonrpc/lib/messages.js","../../node_modules/vscode-jsonrpc/lib/events.js","../../node_modules/vscode-jsonrpc/lib/messageReader.js","../../node_modules/vscode-jsonrpc/lib/messageWriter.js","../../node_modules/vscode-jsonrpc/lib/cancellation.js","../../node_modules/vscode-jsonrpc/lib/linkedMap.js","../../node_modules/vscode-jsonrpc/lib/pipeSupport.js","../../node_modules/vscode-jsonrpc/lib/socketSupport.js","../../node_modules/vscode-jsonrpc/lib/main.js","../../src/socket/connection.ts","../../src/logger.ts","../../src/connection.ts"],"sourcesContent":["/* --------------------------------------------------------------------------------------------\n * Copyright (c) 2024 TypeFox and others.\n * Licensed under the MIT License. See LICENSE in the package root for license information.\n * ------------------------------------------------------------------------------------------ */\n\nimport { Disposable } from 'vscode-jsonrpc';\n\nexport class DisposableCollection implements Disposable {\n    protected readonly disposables: Disposable[] = [];\n\n    dispose(): void {\n        while (this.disposables.length !== 0) {\n            this.disposables.pop()!.dispose();\n        }\n    }\n\n    push(disposable: Disposable): Disposable {\n        const disposables = this.disposables;\n        disposables.push(disposable);\n        return {\n            dispose(): void {\n                const index = disposables.indexOf(disposable);\n                if (index !== -1) {\n                    disposables.splice(index, 1);\n                }\n            }\n        };\n    }\n}\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nlet _ral;\nfunction RAL() {\n    if (_ral === undefined) {\n        throw new Error(`No runtime abstraction layer installed`);\n    }\n    return _ral;\n}\n(function (RAL) {\n    function install(ral) {\n        if (ral === undefined) {\n            throw new Error(`No runtime abstraction layer provided`);\n        }\n        _ral = ral;\n    }\n    RAL.install = install;\n})(RAL || (RAL = {}));\nexports.default = RAL;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Emitter = exports.Event = void 0;\nconst ral_1 = require(\"./ral\");\nvar Event;\n(function (Event) {\n    const _disposable = { dispose() { } };\n    Event.None = function () { return _disposable; };\n})(Event || (exports.Event = Event = {}));\nclass CallbackList {\n    add(callback, context = null, bucket) {\n        if (!this._callbacks) {\n            this._callbacks = [];\n            this._contexts = [];\n        }\n        this._callbacks.push(callback);\n        this._contexts.push(context);\n        if (Array.isArray(bucket)) {\n            bucket.push({ dispose: () => this.remove(callback, context) });\n        }\n    }\n    remove(callback, context = null) {\n        if (!this._callbacks) {\n            return;\n        }\n        let foundCallbackWithDifferentContext = false;\n        for (let i = 0, len = this._callbacks.length; i < len; i++) {\n            if (this._callbacks[i] === callback) {\n                if (this._contexts[i] === context) {\n                    // callback & context match => remove it\n                    this._callbacks.splice(i, 1);\n                    this._contexts.splice(i, 1);\n                    return;\n                }\n                else {\n                    foundCallbackWithDifferentContext = true;\n                }\n            }\n        }\n        if (foundCallbackWithDifferentContext) {\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\n        }\n    }\n    invoke(...args) {\n        if (!this._callbacks) {\n            return [];\n        }\n        const ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\n        for (let i = 0, len = callbacks.length; i < len; i++) {\n            try {\n                ret.push(callbacks[i].apply(contexts[i], args));\n            }\n            catch (e) {\n                // eslint-disable-next-line no-console\n                (0, ral_1.default)().console.error(e);\n            }\n        }\n        return ret;\n    }\n    isEmpty() {\n        return !this._callbacks || this._callbacks.length === 0;\n    }\n    dispose() {\n        this._callbacks = undefined;\n        this._contexts = undefined;\n    }\n}\nclass Emitter {\n    constructor(_options) {\n        this._options = _options;\n    }\n    /**\n     * For the public to allow to subscribe\n     * to events from this Emitter\n     */\n    get event() {\n        if (!this._event) {\n            this._event = (listener, thisArgs, disposables) => {\n                if (!this._callbacks) {\n                    this._callbacks = new CallbackList();\n                }\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\n                    this._options.onFirstListenerAdd(this);\n                }\n                this._callbacks.add(listener, thisArgs);\n                const result = {\n                    dispose: () => {\n                        if (!this._callbacks) {\n                            // disposable is disposed after emitter is disposed.\n                            return;\n                        }\n                        this._callbacks.remove(listener, thisArgs);\n                        result.dispose = Emitter._noop;\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\n                            this._options.onLastListenerRemove(this);\n                        }\n                    }\n                };\n                if (Array.isArray(disposables)) {\n                    disposables.push(result);\n                }\n                return result;\n            };\n        }\n        return this._event;\n    }\n    /**\n     * To be kept private to fire an event to\n     * subscribers\n     */\n    fire(event) {\n        if (this._callbacks) {\n            this._callbacks.invoke.call(this._callbacks, event);\n        }\n    }\n    dispose() {\n        if (this._callbacks) {\n            this._callbacks.dispose();\n            this._callbacks = undefined;\n        }\n    }\n}\nexports.Emitter = Emitter;\nEmitter._noop = function () { };\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Semaphore = void 0;\nconst ral_1 = require(\"./ral\");\nclass Semaphore {\n    constructor(capacity = 1) {\n        if (capacity <= 0) {\n            throw new Error('Capacity must be greater than 0');\n        }\n        this._capacity = capacity;\n        this._active = 0;\n        this._waiting = [];\n    }\n    lock(thunk) {\n        return new Promise((resolve, reject) => {\n            this._waiting.push({ thunk, resolve, reject });\n            this.runNext();\n        });\n    }\n    get active() {\n        return this._active;\n    }\n    runNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        (0, ral_1.default)().timer.setImmediate(() => this.doRunNext());\n    }\n    doRunNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        const next = this._waiting.shift();\n        this._active++;\n        if (this._active > this._capacity) {\n            throw new Error(`To many thunks active`);\n        }\n        try {\n            const result = next.thunk();\n            if (result instanceof Promise) {\n                result.then((value) => {\n                    this._active--;\n                    next.resolve(value);\n                    this.runNext();\n                }, (err) => {\n                    this._active--;\n                    next.reject(err);\n                    this.runNext();\n                });\n            }\n            else {\n                this._active--;\n                next.resolve(result);\n                this.runNext();\n            }\n        }\n        catch (err) {\n            this._active--;\n            next.reject(err);\n            this.runNext();\n        }\n    }\n}\nexports.Semaphore = Semaphore;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nconst semaphore_1 = require(\"./semaphore\");\nvar MessageReader;\n(function (MessageReader) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\n    }\n    MessageReader.is = is;\n})(MessageReader || (exports.MessageReader = MessageReader = {}));\nclass AbstractMessageReader {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n        this.partialMessageEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error) {\n        this.errorEmitter.fire(this.asError(error));\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    get onPartialMessage() {\n        return this.partialMessageEmitter.event;\n    }\n    firePartialMessage(info) {\n        this.partialMessageEmitter.fire(info);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Reader received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageReader = AbstractMessageReader;\nvar ResolvedMessageReaderOptions;\n(function (ResolvedMessageReaderOptions) {\n    function fromOptions(options) {\n        let charset;\n        let result;\n        let contentDecoder;\n        const contentDecoders = new Map();\n        let contentTypeDecoder;\n        const contentTypeDecoders = new Map();\n        if (options === undefined || typeof options === 'string') {\n            charset = options ?? 'utf-8';\n        }\n        else {\n            charset = options.charset ?? 'utf-8';\n            if (options.contentDecoder !== undefined) {\n                contentDecoder = options.contentDecoder;\n                contentDecoders.set(contentDecoder.name, contentDecoder);\n            }\n            if (options.contentDecoders !== undefined) {\n                for (const decoder of options.contentDecoders) {\n                    contentDecoders.set(decoder.name, decoder);\n                }\n            }\n            if (options.contentTypeDecoder !== undefined) {\n                contentTypeDecoder = options.contentTypeDecoder;\n                contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n            }\n            if (options.contentTypeDecoders !== undefined) {\n                for (const decoder of options.contentTypeDecoders) {\n                    contentTypeDecoders.set(decoder.name, decoder);\n                }\n            }\n        }\n        if (contentTypeDecoder === undefined) {\n            contentTypeDecoder = (0, ral_1.default)().applicationJson.decoder;\n            contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n        }\n        return { charset, contentDecoder, contentDecoders, contentTypeDecoder, contentTypeDecoders };\n    }\n    ResolvedMessageReaderOptions.fromOptions = fromOptions;\n})(ResolvedMessageReaderOptions || (ResolvedMessageReaderOptions = {}));\nclass ReadableStreamMessageReader extends AbstractMessageReader {\n    constructor(readable, options) {\n        super();\n        this.readable = readable;\n        this.options = ResolvedMessageReaderOptions.fromOptions(options);\n        this.buffer = (0, ral_1.default)().messageBuffer.create(this.options.charset);\n        this._partialMessageTimeout = 10000;\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n        this.readSemaphore = new semaphore_1.Semaphore(1);\n    }\n    set partialMessageTimeout(timeout) {\n        this._partialMessageTimeout = timeout;\n    }\n    get partialMessageTimeout() {\n        return this._partialMessageTimeout;\n    }\n    listen(callback) {\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n        this.partialMessageTimer = undefined;\n        this.callback = callback;\n        const result = this.readable.onData((data) => {\n            this.onData(data);\n        });\n        this.readable.onError((error) => this.fireError(error));\n        this.readable.onClose(() => this.fireClose());\n        return result;\n    }\n    onData(data) {\n        try {\n            this.buffer.append(data);\n            while (true) {\n                if (this.nextMessageLength === -1) {\n                    const headers = this.buffer.tryReadHeaders(true);\n                    if (!headers) {\n                        return;\n                    }\n                    const contentLength = headers.get('content-length');\n                    if (!contentLength) {\n                        this.fireError(new Error(`Header must provide a Content-Length property.\\n${JSON.stringify(Object.fromEntries(headers))}`));\n                        return;\n                    }\n                    const length = parseInt(contentLength);\n                    if (isNaN(length)) {\n                        this.fireError(new Error(`Content-Length value must be a number. Got ${contentLength}`));\n                        return;\n                    }\n                    this.nextMessageLength = length;\n                }\n                const body = this.buffer.tryReadBody(this.nextMessageLength);\n                if (body === undefined) {\n                    /** We haven't received the full message yet. */\n                    this.setPartialMessageTimer();\n                    return;\n                }\n                this.clearPartialMessageTimer();\n                this.nextMessageLength = -1;\n                // Make sure that we convert one received message after the\n                // other. Otherwise it could happen that a decoding of a second\n                // smaller message finished before the decoding of a first larger\n                // message and then we would deliver the second message first.\n                this.readSemaphore.lock(async () => {\n                    const bytes = this.options.contentDecoder !== undefined\n                        ? await this.options.contentDecoder.decode(body)\n                        : body;\n                    const message = await this.options.contentTypeDecoder.decode(bytes, this.options);\n                    this.callback(message);\n                }).catch((error) => {\n                    this.fireError(error);\n                });\n            }\n        }\n        catch (error) {\n            this.fireError(error);\n        }\n    }\n    clearPartialMessageTimer() {\n        if (this.partialMessageTimer) {\n            this.partialMessageTimer.dispose();\n            this.partialMessageTimer = undefined;\n        }\n    }\n    setPartialMessageTimer() {\n        this.clearPartialMessageTimer();\n        if (this._partialMessageTimeout <= 0) {\n            return;\n        }\n        this.partialMessageTimer = (0, ral_1.default)().timer.setTimeout((token, timeout) => {\n            this.partialMessageTimer = undefined;\n            if (token === this.messageToken) {\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\n                this.setPartialMessageTimer();\n            }\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\n    }\n}\nexports.ReadableStreamMessageReader = ReadableStreamMessageReader;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) 2024 TypeFox and others.\n * Licensed under the MIT License. See LICENSE in the package root for license information.\n * ------------------------------------------------------------------------------------------ */\n\nimport { Disposable } from 'vscode-jsonrpc';\nimport { DataCallback, AbstractMessageReader, MessageReader } from 'vscode-jsonrpc/lib/common/messageReader.js';\nimport { IWebSocket } from './socket.js';\n\nexport class WebSocketMessageReader extends AbstractMessageReader implements MessageReader {\n    protected readonly socket: IWebSocket;\n    protected state: 'initial' | 'listening' | 'closed' = 'initial';\n    protected callback: DataCallback | undefined;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    protected readonly events: Array<{ message?: any, error?: any }> = [];\n\n    constructor(socket: IWebSocket) {\n        super();\n        this.socket = socket;\n        this.socket.onMessage(message =>\n            this.readMessage(message)\n        );\n        this.socket.onError(error =>\n            this.fireError(error)\n        );\n        this.socket.onClose((code, reason) => {\n            if (code !== 1000) {\n                const error: Error = {\n                    name: '' + code,\n                    message: `Error during socket reconnect: code = ${code}, reason = ${reason}`\n                };\n                this.fireError(error);\n            }\n            this.fireClose();\n        });\n    }\n\n    listen(callback: DataCallback): Disposable {\n        if (this.state === 'initial') {\n            this.state = 'listening';\n            this.callback = callback;\n            while (this.events.length !== 0) {\n                const event = this.events.pop()!;\n                if (event.message) {\n                    this.readMessage(event.message);\n                } else if (event.error) {\n                    this.fireError(event.error);\n                } else {\n                    this.fireClose();\n                }\n            }\n        }\n        return {\n            dispose: () => {\n                if (this.callback === callback) {\n                    this.state = 'initial';\n                    this.callback = undefined;\n                }\n            }\n        };\n    }\n\n    override dispose() {\n        super.dispose();\n        this.state = 'initial';\n        this.callback = undefined;\n        this.events.splice(0, this.events.length);\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    protected readMessage(message: any): void {\n        if (this.state === 'initial') {\n            this.events.splice(0, 0, { message });\n        } else if (this.state === 'listening') {\n            try {\n                const data = JSON.parse(message);\n                this.callback!(data);\n            } catch (err) {\n                const error: Error = {\n                    name: '' + 400,\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    message: `Error during message parsing, reason = ${typeof err === 'object' ? (err as any).message : 'unknown'}`\n                };\n                this.fireError(error);\n            }\n        }\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    protected override fireError(error: any): void {\n        if (this.state === 'initial') {\n            this.events.splice(0, 0, { error });\n        } else if (this.state === 'listening') {\n            super.fireError(error);\n        }\n    }\n\n    protected override fireClose(): void {\n        if (this.state === 'initial') {\n            this.events.splice(0, 0, {});\n        } else if (this.state === 'listening') {\n            super.fireClose();\n        }\n        this.state = 'closed';\n    }\n}\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst semaphore_1 = require(\"./semaphore\");\nconst events_1 = require(\"./events\");\nconst ContentLength = 'Content-Length: ';\nconst CRLF = '\\r\\n';\nvar MessageWriter;\n(function (MessageWriter) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\n            Is.func(candidate.onError) && Is.func(candidate.write);\n    }\n    MessageWriter.is = is;\n})(MessageWriter || (exports.MessageWriter = MessageWriter = {}));\nclass AbstractMessageWriter {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error, message, count) {\n        this.errorEmitter.fire([this.asError(error), message, count]);\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Writer received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageWriter = AbstractMessageWriter;\nvar ResolvedMessageWriterOptions;\n(function (ResolvedMessageWriterOptions) {\n    function fromOptions(options) {\n        if (options === undefined || typeof options === 'string') {\n            return { charset: options ?? 'utf-8', contentTypeEncoder: (0, ral_1.default)().applicationJson.encoder };\n        }\n        else {\n            return { charset: options.charset ?? 'utf-8', contentEncoder: options.contentEncoder, contentTypeEncoder: options.contentTypeEncoder ?? (0, ral_1.default)().applicationJson.encoder };\n        }\n    }\n    ResolvedMessageWriterOptions.fromOptions = fromOptions;\n})(ResolvedMessageWriterOptions || (ResolvedMessageWriterOptions = {}));\nclass WriteableStreamMessageWriter extends AbstractMessageWriter {\n    constructor(writable, options) {\n        super();\n        this.writable = writable;\n        this.options = ResolvedMessageWriterOptions.fromOptions(options);\n        this.errorCount = 0;\n        this.writeSemaphore = new semaphore_1.Semaphore(1);\n        this.writable.onError((error) => this.fireError(error));\n        this.writable.onClose(() => this.fireClose());\n    }\n    async write(msg) {\n        return this.writeSemaphore.lock(async () => {\n            const payload = this.options.contentTypeEncoder.encode(msg, this.options).then((buffer) => {\n                if (this.options.contentEncoder !== undefined) {\n                    return this.options.contentEncoder.encode(buffer);\n                }\n                else {\n                    return buffer;\n                }\n            });\n            return payload.then((buffer) => {\n                const headers = [];\n                headers.push(ContentLength, buffer.byteLength.toString(), CRLF);\n                headers.push(CRLF);\n                return this.doWrite(msg, headers, buffer);\n            }, (error) => {\n                this.fireError(error);\n                throw error;\n            });\n        });\n    }\n    async doWrite(msg, headers, data) {\n        try {\n            await this.writable.write(headers.join(''), 'ascii');\n            return this.writable.write(data);\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n        this.writable.end();\n    }\n}\nexports.WriteableStreamMessageWriter = WriteableStreamMessageWriter;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) 2024 TypeFox and others.\n * Licensed under the MIT License. See LICENSE in the package root for license information.\n * ------------------------------------------------------------------------------------------ */\n\nimport { Message } from 'vscode-jsonrpc/lib/common/messages.js';\nimport { AbstractMessageWriter, MessageWriter } from 'vscode-jsonrpc/lib/common/messageWriter.js';\nimport { IWebSocket } from './socket.js';\n\nexport class WebSocketMessageWriter extends AbstractMessageWriter implements MessageWriter {\n    protected errorCount = 0;\n    protected readonly socket: IWebSocket;\n\n    constructor(socket: IWebSocket) {\n        super();\n        this.socket = socket;\n    }\n\n    end(): void {\n    }\n\n    async write(msg: Message): Promise<void> {\n        try {\n            const content = JSON.stringify(msg);\n            this.socket.send(content);\n        } catch (e) {\n            this.errorCount++;\n            this.fireError(e, msg, this.errorCount);\n        }\n    }\n}\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction boolean(value) {\r\n    return value === true || value === false;\r\n}\r\nexports.boolean = boolean;\r\nfunction string(value) {\r\n    return typeof value === 'string' || value instanceof String;\r\n}\r\nexports.string = string;\r\nfunction number(value) {\r\n    return typeof value === 'number' || value instanceof Number;\r\n}\r\nexports.number = number;\r\nfunction error(value) {\r\n    return value instanceof Error;\r\n}\r\nexports.error = error;\r\nfunction func(value) {\r\n    return typeof value === 'function';\r\n}\r\nexports.func = func;\r\nfunction array(value) {\r\n    return Array.isArray(value);\r\n}\r\nexports.array = array;\r\nfunction stringArray(value) {\r\n    return array(value) && value.every(elem => string(elem));\r\n}\r\nexports.stringArray = stringArray;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst is = require(\"./is\");\r\n/**\r\n * Predefined error codes.\r\n */\r\nvar ErrorCodes;\r\n(function (ErrorCodes) {\r\n    // Defined by JSON RPC\r\n    ErrorCodes.ParseError = -32700;\r\n    ErrorCodes.InvalidRequest = -32600;\r\n    ErrorCodes.MethodNotFound = -32601;\r\n    ErrorCodes.InvalidParams = -32602;\r\n    ErrorCodes.InternalError = -32603;\r\n    ErrorCodes.serverErrorStart = -32099;\r\n    ErrorCodes.serverErrorEnd = -32000;\r\n    ErrorCodes.ServerNotInitialized = -32002;\r\n    ErrorCodes.UnknownErrorCode = -32001;\r\n    // Defined by the protocol.\r\n    ErrorCodes.RequestCancelled = -32800;\r\n    ErrorCodes.ContentModified = -32801;\r\n    // Defined by VSCode library.\r\n    ErrorCodes.MessageWriteError = 1;\r\n    ErrorCodes.MessageReadError = 2;\r\n})(ErrorCodes = exports.ErrorCodes || (exports.ErrorCodes = {}));\r\n/**\r\n * An error object return in a response in case a request\r\n * has failed.\r\n */\r\nclass ResponseError extends Error {\r\n    constructor(code, message, data) {\r\n        super(message);\r\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\r\n        this.data = data;\r\n        Object.setPrototypeOf(this, ResponseError.prototype);\r\n    }\r\n    toJson() {\r\n        return {\r\n            code: this.code,\r\n            message: this.message,\r\n            data: this.data,\r\n        };\r\n    }\r\n}\r\nexports.ResponseError = ResponseError;\r\n/**\r\n * An abstract implementation of a MessageType.\r\n */\r\nclass AbstractMessageType {\r\n    constructor(_method, _numberOfParams) {\r\n        this._method = _method;\r\n        this._numberOfParams = _numberOfParams;\r\n    }\r\n    get method() {\r\n        return this._method;\r\n    }\r\n    get numberOfParams() {\r\n        return this._numberOfParams;\r\n    }\r\n}\r\nexports.AbstractMessageType = AbstractMessageType;\r\n/**\r\n * Classes to type request response pairs\r\n *\r\n * The type parameter RO will be removed in the next major version\r\n * of the JSON RPC library since it is a LSP concept and doesn't\r\n * belong here. For now it is tagged as default never.\r\n */\r\nclass RequestType0 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 0);\r\n    }\r\n}\r\nexports.RequestType0 = RequestType0;\r\nclass RequestType extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n    }\r\n}\r\nexports.RequestType = RequestType;\r\nclass RequestType1 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n    }\r\n}\r\nexports.RequestType1 = RequestType1;\r\nclass RequestType2 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 2);\r\n    }\r\n}\r\nexports.RequestType2 = RequestType2;\r\nclass RequestType3 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 3);\r\n    }\r\n}\r\nexports.RequestType3 = RequestType3;\r\nclass RequestType4 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 4);\r\n    }\r\n}\r\nexports.RequestType4 = RequestType4;\r\nclass RequestType5 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 5);\r\n    }\r\n}\r\nexports.RequestType5 = RequestType5;\r\nclass RequestType6 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 6);\r\n    }\r\n}\r\nexports.RequestType6 = RequestType6;\r\nclass RequestType7 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 7);\r\n    }\r\n}\r\nexports.RequestType7 = RequestType7;\r\nclass RequestType8 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 8);\r\n    }\r\n}\r\nexports.RequestType8 = RequestType8;\r\nclass RequestType9 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 9);\r\n    }\r\n}\r\nexports.RequestType9 = RequestType9;\r\n/**\r\n * The type parameter RO will be removed in the next major version\r\n * of the JSON RPC library since it is a LSP concept and doesn't\r\n * belong here. For now it is tagged as default never.\r\n */\r\nclass NotificationType extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType = NotificationType;\r\nclass NotificationType0 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 0);\r\n    }\r\n}\r\nexports.NotificationType0 = NotificationType0;\r\nclass NotificationType1 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n    }\r\n}\r\nexports.NotificationType1 = NotificationType1;\r\nclass NotificationType2 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 2);\r\n    }\r\n}\r\nexports.NotificationType2 = NotificationType2;\r\nclass NotificationType3 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 3);\r\n    }\r\n}\r\nexports.NotificationType3 = NotificationType3;\r\nclass NotificationType4 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 4);\r\n    }\r\n}\r\nexports.NotificationType4 = NotificationType4;\r\nclass NotificationType5 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 5);\r\n    }\r\n}\r\nexports.NotificationType5 = NotificationType5;\r\nclass NotificationType6 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 6);\r\n    }\r\n}\r\nexports.NotificationType6 = NotificationType6;\r\nclass NotificationType7 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 7);\r\n    }\r\n}\r\nexports.NotificationType7 = NotificationType7;\r\nclass NotificationType8 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 8);\r\n    }\r\n}\r\nexports.NotificationType8 = NotificationType8;\r\nclass NotificationType9 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 9);\r\n    }\r\n}\r\nexports.NotificationType9 = NotificationType9;\r\n/**\r\n * Tests if the given message is a request message\r\n */\r\nfunction isRequestMessage(message) {\r\n    let candidate = message;\r\n    return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\r\n}\r\nexports.isRequestMessage = isRequestMessage;\r\n/**\r\n * Tests if the given message is a notification message\r\n */\r\nfunction isNotificationMessage(message) {\r\n    let candidate = message;\r\n    return candidate && is.string(candidate.method) && message.id === void 0;\r\n}\r\nexports.isNotificationMessage = isNotificationMessage;\r\n/**\r\n * Tests if the given message is a response message\r\n */\r\nfunction isResponseMessage(message) {\r\n    let candidate = message;\r\n    return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\r\n}\r\nexports.isResponseMessage = isResponseMessage;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Disposable;\r\n(function (Disposable) {\r\n    function create(func) {\r\n        return {\r\n            dispose: func\r\n        };\r\n    }\r\n    Disposable.create = create;\r\n})(Disposable = exports.Disposable || (exports.Disposable = {}));\r\nvar Event;\r\n(function (Event) {\r\n    const _disposable = { dispose() { } };\r\n    Event.None = function () { return _disposable; };\r\n})(Event = exports.Event || (exports.Event = {}));\r\nclass CallbackList {\r\n    add(callback, context = null, bucket) {\r\n        if (!this._callbacks) {\r\n            this._callbacks = [];\r\n            this._contexts = [];\r\n        }\r\n        this._callbacks.push(callback);\r\n        this._contexts.push(context);\r\n        if (Array.isArray(bucket)) {\r\n            bucket.push({ dispose: () => this.remove(callback, context) });\r\n        }\r\n    }\r\n    remove(callback, context = null) {\r\n        if (!this._callbacks) {\r\n            return;\r\n        }\r\n        var foundCallbackWithDifferentContext = false;\r\n        for (var i = 0, len = this._callbacks.length; i < len; i++) {\r\n            if (this._callbacks[i] === callback) {\r\n                if (this._contexts[i] === context) {\r\n                    // callback & context match => remove it\r\n                    this._callbacks.splice(i, 1);\r\n                    this._contexts.splice(i, 1);\r\n                    return;\r\n                }\r\n                else {\r\n                    foundCallbackWithDifferentContext = true;\r\n                }\r\n            }\r\n        }\r\n        if (foundCallbackWithDifferentContext) {\r\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\r\n        }\r\n    }\r\n    invoke(...args) {\r\n        if (!this._callbacks) {\r\n            return [];\r\n        }\r\n        var ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\r\n        for (var i = 0, len = callbacks.length; i < len; i++) {\r\n            try {\r\n                ret.push(callbacks[i].apply(contexts[i], args));\r\n            }\r\n            catch (e) {\r\n                // eslint-disable-next-line no-console\r\n                console.error(e);\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n    isEmpty() {\r\n        return !this._callbacks || this._callbacks.length === 0;\r\n    }\r\n    dispose() {\r\n        this._callbacks = undefined;\r\n        this._contexts = undefined;\r\n    }\r\n}\r\nclass Emitter {\r\n    constructor(_options) {\r\n        this._options = _options;\r\n    }\r\n    /**\r\n     * For the public to allow to subscribe\r\n     * to events from this Emitter\r\n     */\r\n    get event() {\r\n        if (!this._event) {\r\n            this._event = (listener, thisArgs, disposables) => {\r\n                if (!this._callbacks) {\r\n                    this._callbacks = new CallbackList();\r\n                }\r\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\r\n                    this._options.onFirstListenerAdd(this);\r\n                }\r\n                this._callbacks.add(listener, thisArgs);\r\n                let result;\r\n                result = {\r\n                    dispose: () => {\r\n                        this._callbacks.remove(listener, thisArgs);\r\n                        result.dispose = Emitter._noop;\r\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\r\n                            this._options.onLastListenerRemove(this);\r\n                        }\r\n                    }\r\n                };\r\n                if (Array.isArray(disposables)) {\r\n                    disposables.push(result);\r\n                }\r\n                return result;\r\n            };\r\n        }\r\n        return this._event;\r\n    }\r\n    /**\r\n     * To be kept private to fire an event to\r\n     * subscribers\r\n     */\r\n    fire(event) {\r\n        if (this._callbacks) {\r\n            this._callbacks.invoke.call(this._callbacks, event);\r\n        }\r\n    }\r\n    dispose() {\r\n        if (this._callbacks) {\r\n            this._callbacks.dispose();\r\n            this._callbacks = undefined;\r\n        }\r\n    }\r\n}\r\nexports.Emitter = Emitter;\r\nEmitter._noop = function () { };\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"./events\");\r\nconst Is = require(\"./is\");\r\nlet DefaultSize = 8192;\r\nlet CR = Buffer.from('\\r', 'ascii')[0];\r\nlet LF = Buffer.from('\\n', 'ascii')[0];\r\nlet CRLF = '\\r\\n';\r\nclass MessageBuffer {\r\n    constructor(encoding = 'utf8') {\r\n        this.encoding = encoding;\r\n        this.index = 0;\r\n        this.buffer = Buffer.allocUnsafe(DefaultSize);\r\n    }\r\n    append(chunk) {\r\n        var toAppend = chunk;\r\n        if (typeof (chunk) === 'string') {\r\n            var str = chunk;\r\n            var bufferLen = Buffer.byteLength(str, this.encoding);\r\n            toAppend = Buffer.allocUnsafe(bufferLen);\r\n            toAppend.write(str, 0, bufferLen, this.encoding);\r\n        }\r\n        if (this.buffer.length - this.index >= toAppend.length) {\r\n            toAppend.copy(this.buffer, this.index, 0, toAppend.length);\r\n        }\r\n        else {\r\n            var newSize = (Math.ceil((this.index + toAppend.length) / DefaultSize) + 1) * DefaultSize;\r\n            if (this.index === 0) {\r\n                this.buffer = Buffer.allocUnsafe(newSize);\r\n                toAppend.copy(this.buffer, 0, 0, toAppend.length);\r\n            }\r\n            else {\r\n                this.buffer = Buffer.concat([this.buffer.slice(0, this.index), toAppend], newSize);\r\n            }\r\n        }\r\n        this.index += toAppend.length;\r\n    }\r\n    tryReadHeaders() {\r\n        let result = undefined;\r\n        let current = 0;\r\n        while (current + 3 < this.index && (this.buffer[current] !== CR || this.buffer[current + 1] !== LF || this.buffer[current + 2] !== CR || this.buffer[current + 3] !== LF)) {\r\n            current++;\r\n        }\r\n        // No header / body separator found (e.g CRLFCRLF)\r\n        if (current + 3 >= this.index) {\r\n            return result;\r\n        }\r\n        result = Object.create(null);\r\n        let headers = this.buffer.toString('ascii', 0, current).split(CRLF);\r\n        headers.forEach((header) => {\r\n            let index = header.indexOf(':');\r\n            if (index === -1) {\r\n                throw new Error('Message header must separate key and value using :');\r\n            }\r\n            let key = header.substr(0, index);\r\n            let value = header.substr(index + 1).trim();\r\n            result[key] = value;\r\n        });\r\n        let nextStart = current + 4;\r\n        this.buffer = this.buffer.slice(nextStart);\r\n        this.index = this.index - nextStart;\r\n        return result;\r\n    }\r\n    tryReadContent(length) {\r\n        if (this.index < length) {\r\n            return null;\r\n        }\r\n        let result = this.buffer.toString(this.encoding, 0, length);\r\n        let nextStart = length;\r\n        this.buffer.copy(this.buffer, 0, nextStart);\r\n        this.index = this.index - nextStart;\r\n        return result;\r\n    }\r\n    get numberOfBytes() {\r\n        return this.index;\r\n    }\r\n}\r\nvar MessageReader;\r\n(function (MessageReader) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\r\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\r\n    }\r\n    MessageReader.is = is;\r\n})(MessageReader = exports.MessageReader || (exports.MessageReader = {}));\r\nclass AbstractMessageReader {\r\n    constructor() {\r\n        this.errorEmitter = new events_1.Emitter();\r\n        this.closeEmitter = new events_1.Emitter();\r\n        this.partialMessageEmitter = new events_1.Emitter();\r\n    }\r\n    dispose() {\r\n        this.errorEmitter.dispose();\r\n        this.closeEmitter.dispose();\r\n    }\r\n    get onError() {\r\n        return this.errorEmitter.event;\r\n    }\r\n    fireError(error) {\r\n        this.errorEmitter.fire(this.asError(error));\r\n    }\r\n    get onClose() {\r\n        return this.closeEmitter.event;\r\n    }\r\n    fireClose() {\r\n        this.closeEmitter.fire(undefined);\r\n    }\r\n    get onPartialMessage() {\r\n        return this.partialMessageEmitter.event;\r\n    }\r\n    firePartialMessage(info) {\r\n        this.partialMessageEmitter.fire(info);\r\n    }\r\n    asError(error) {\r\n        if (error instanceof Error) {\r\n            return error;\r\n        }\r\n        else {\r\n            return new Error(`Reader received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\r\n        }\r\n    }\r\n}\r\nexports.AbstractMessageReader = AbstractMessageReader;\r\nclass StreamMessageReader extends AbstractMessageReader {\r\n    constructor(readable, encoding = 'utf8') {\r\n        super();\r\n        this.readable = readable;\r\n        this.buffer = new MessageBuffer(encoding);\r\n        this._partialMessageTimeout = 10000;\r\n    }\r\n    set partialMessageTimeout(timeout) {\r\n        this._partialMessageTimeout = timeout;\r\n    }\r\n    get partialMessageTimeout() {\r\n        return this._partialMessageTimeout;\r\n    }\r\n    listen(callback) {\r\n        this.nextMessageLength = -1;\r\n        this.messageToken = 0;\r\n        this.partialMessageTimer = undefined;\r\n        this.callback = callback;\r\n        this.readable.on('data', (data) => {\r\n            this.onData(data);\r\n        });\r\n        this.readable.on('error', (error) => this.fireError(error));\r\n        this.readable.on('close', () => this.fireClose());\r\n    }\r\n    onData(data) {\r\n        this.buffer.append(data);\r\n        while (true) {\r\n            if (this.nextMessageLength === -1) {\r\n                let headers = this.buffer.tryReadHeaders();\r\n                if (!headers) {\r\n                    return;\r\n                }\r\n                let contentLength = headers['Content-Length'];\r\n                if (!contentLength) {\r\n                    throw new Error('Header must provide a Content-Length property.');\r\n                }\r\n                let length = parseInt(contentLength);\r\n                if (isNaN(length)) {\r\n                    throw new Error('Content-Length value must be a number.');\r\n                }\r\n                this.nextMessageLength = length;\r\n                // Take the encoding form the header. For compatibility\r\n                // treat both utf-8 and utf8 as node utf8\r\n            }\r\n            var msg = this.buffer.tryReadContent(this.nextMessageLength);\r\n            if (msg === null) {\r\n                /** We haven't received the full message yet. */\r\n                this.setPartialMessageTimer();\r\n                return;\r\n            }\r\n            this.clearPartialMessageTimer();\r\n            this.nextMessageLength = -1;\r\n            this.messageToken++;\r\n            var json = JSON.parse(msg);\r\n            this.callback(json);\r\n        }\r\n    }\r\n    clearPartialMessageTimer() {\r\n        if (this.partialMessageTimer) {\r\n            clearTimeout(this.partialMessageTimer);\r\n            this.partialMessageTimer = undefined;\r\n        }\r\n    }\r\n    setPartialMessageTimer() {\r\n        this.clearPartialMessageTimer();\r\n        if (this._partialMessageTimeout <= 0) {\r\n            return;\r\n        }\r\n        this.partialMessageTimer = setTimeout((token, timeout) => {\r\n            this.partialMessageTimer = undefined;\r\n            if (token === this.messageToken) {\r\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\r\n                this.setPartialMessageTimer();\r\n            }\r\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\r\n    }\r\n}\r\nexports.StreamMessageReader = StreamMessageReader;\r\nclass IPCMessageReader extends AbstractMessageReader {\r\n    constructor(process) {\r\n        super();\r\n        this.process = process;\r\n        let eventEmitter = this.process;\r\n        eventEmitter.on('error', (error) => this.fireError(error));\r\n        eventEmitter.on('close', () => this.fireClose());\r\n    }\r\n    listen(callback) {\r\n        this.process.on('message', callback);\r\n    }\r\n}\r\nexports.IPCMessageReader = IPCMessageReader;\r\nclass SocketMessageReader extends StreamMessageReader {\r\n    constructor(socket, encoding = 'utf-8') {\r\n        super(socket, encoding);\r\n    }\r\n}\r\nexports.SocketMessageReader = SocketMessageReader;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"./events\");\r\nconst Is = require(\"./is\");\r\nlet ContentLength = 'Content-Length: ';\r\nlet CRLF = '\\r\\n';\r\nvar MessageWriter;\r\n(function (MessageWriter) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\r\n            Is.func(candidate.onError) && Is.func(candidate.write);\r\n    }\r\n    MessageWriter.is = is;\r\n})(MessageWriter = exports.MessageWriter || (exports.MessageWriter = {}));\r\nclass AbstractMessageWriter {\r\n    constructor() {\r\n        this.errorEmitter = new events_1.Emitter();\r\n        this.closeEmitter = new events_1.Emitter();\r\n    }\r\n    dispose() {\r\n        this.errorEmitter.dispose();\r\n        this.closeEmitter.dispose();\r\n    }\r\n    get onError() {\r\n        return this.errorEmitter.event;\r\n    }\r\n    fireError(error, message, count) {\r\n        this.errorEmitter.fire([this.asError(error), message, count]);\r\n    }\r\n    get onClose() {\r\n        return this.closeEmitter.event;\r\n    }\r\n    fireClose() {\r\n        this.closeEmitter.fire(undefined);\r\n    }\r\n    asError(error) {\r\n        if (error instanceof Error) {\r\n            return error;\r\n        }\r\n        else {\r\n            return new Error(`Writer received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\r\n        }\r\n    }\r\n}\r\nexports.AbstractMessageWriter = AbstractMessageWriter;\r\nclass StreamMessageWriter extends AbstractMessageWriter {\r\n    constructor(writable, encoding = 'utf8') {\r\n        super();\r\n        this.writable = writable;\r\n        this.encoding = encoding;\r\n        this.errorCount = 0;\r\n        this.writable.on('error', (error) => this.fireError(error));\r\n        this.writable.on('close', () => this.fireClose());\r\n    }\r\n    write(msg) {\r\n        let json = JSON.stringify(msg);\r\n        let contentLength = Buffer.byteLength(json, this.encoding);\r\n        let headers = [\r\n            ContentLength, contentLength.toString(), CRLF,\r\n            CRLF\r\n        ];\r\n        try {\r\n            // Header must be written in ASCII encoding\r\n            this.writable.write(headers.join(''), 'ascii');\r\n            // Now write the content. This can be written in any encoding\r\n            this.writable.write(json, this.encoding);\r\n            this.errorCount = 0;\r\n        }\r\n        catch (error) {\r\n            this.errorCount++;\r\n            this.fireError(error, msg, this.errorCount);\r\n        }\r\n    }\r\n}\r\nexports.StreamMessageWriter = StreamMessageWriter;\r\nclass IPCMessageWriter extends AbstractMessageWriter {\r\n    constructor(process) {\r\n        super();\r\n        this.process = process;\r\n        this.errorCount = 0;\r\n        this.queue = [];\r\n        this.sending = false;\r\n        let eventEmitter = this.process;\r\n        eventEmitter.on('error', (error) => this.fireError(error));\r\n        eventEmitter.on('close', () => this.fireClose);\r\n    }\r\n    write(msg) {\r\n        if (!this.sending && this.queue.length === 0) {\r\n            // See https://github.com/nodejs/node/issues/7657\r\n            this.doWriteMessage(msg);\r\n        }\r\n        else {\r\n            this.queue.push(msg);\r\n        }\r\n    }\r\n    doWriteMessage(msg) {\r\n        try {\r\n            if (this.process.send) {\r\n                this.sending = true;\r\n                this.process.send(msg, undefined, undefined, (error) => {\r\n                    this.sending = false;\r\n                    if (error) {\r\n                        this.errorCount++;\r\n                        this.fireError(error, msg, this.errorCount);\r\n                    }\r\n                    else {\r\n                        this.errorCount = 0;\r\n                    }\r\n                    if (this.queue.length > 0) {\r\n                        this.doWriteMessage(this.queue.shift());\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        catch (error) {\r\n            this.errorCount++;\r\n            this.fireError(error, msg, this.errorCount);\r\n        }\r\n    }\r\n}\r\nexports.IPCMessageWriter = IPCMessageWriter;\r\nclass SocketMessageWriter extends AbstractMessageWriter {\r\n    constructor(socket, encoding = 'utf8') {\r\n        super();\r\n        this.socket = socket;\r\n        this.queue = [];\r\n        this.sending = false;\r\n        this.encoding = encoding;\r\n        this.errorCount = 0;\r\n        this.socket.on('error', (error) => this.fireError(error));\r\n        this.socket.on('close', () => this.fireClose());\r\n    }\r\n    dispose() {\r\n        super.dispose();\r\n        this.socket.destroy();\r\n    }\r\n    write(msg) {\r\n        if (!this.sending && this.queue.length === 0) {\r\n            // See https://github.com/nodejs/node/issues/7657\r\n            this.doWriteMessage(msg);\r\n        }\r\n        else {\r\n            this.queue.push(msg);\r\n        }\r\n    }\r\n    doWriteMessage(msg) {\r\n        let json = JSON.stringify(msg);\r\n        let contentLength = Buffer.byteLength(json, this.encoding);\r\n        let headers = [\r\n            ContentLength, contentLength.toString(), CRLF,\r\n            CRLF\r\n        ];\r\n        try {\r\n            // Header must be written in ASCII encoding\r\n            this.sending = true;\r\n            this.socket.write(headers.join(''), 'ascii', (error) => {\r\n                if (error) {\r\n                    this.handleError(error, msg);\r\n                }\r\n                try {\r\n                    // Now write the content. This can be written in any encoding\r\n                    this.socket.write(json, this.encoding, (error) => {\r\n                        this.sending = false;\r\n                        if (error) {\r\n                            this.handleError(error, msg);\r\n                        }\r\n                        else {\r\n                            this.errorCount = 0;\r\n                        }\r\n                        if (this.queue.length > 0) {\r\n                            this.doWriteMessage(this.queue.shift());\r\n                        }\r\n                    });\r\n                }\r\n                catch (error) {\r\n                    this.handleError(error, msg);\r\n                }\r\n            });\r\n        }\r\n        catch (error) {\r\n            this.handleError(error, msg);\r\n        }\r\n    }\r\n    handleError(error, msg) {\r\n        this.errorCount++;\r\n        this.fireError(error, msg, this.errorCount);\r\n    }\r\n}\r\nexports.SocketMessageWriter = SocketMessageWriter;\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"./events\");\r\nconst Is = require(\"./is\");\r\nvar CancellationToken;\r\n(function (CancellationToken) {\r\n    CancellationToken.None = Object.freeze({\r\n        isCancellationRequested: false,\r\n        onCancellationRequested: events_1.Event.None\r\n    });\r\n    CancellationToken.Cancelled = Object.freeze({\r\n        isCancellationRequested: true,\r\n        onCancellationRequested: events_1.Event.None\r\n    });\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && (candidate === CancellationToken.None\r\n            || candidate === CancellationToken.Cancelled\r\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\r\n    }\r\n    CancellationToken.is = is;\r\n})(CancellationToken = exports.CancellationToken || (exports.CancellationToken = {}));\r\nconst shortcutEvent = Object.freeze(function (callback, context) {\r\n    let handle = setTimeout(callback.bind(context), 0);\r\n    return { dispose() { clearTimeout(handle); } };\r\n});\r\nclass MutableToken {\r\n    constructor() {\r\n        this._isCancelled = false;\r\n    }\r\n    cancel() {\r\n        if (!this._isCancelled) {\r\n            this._isCancelled = true;\r\n            if (this._emitter) {\r\n                this._emitter.fire(undefined);\r\n                this.dispose();\r\n            }\r\n        }\r\n    }\r\n    get isCancellationRequested() {\r\n        return this._isCancelled;\r\n    }\r\n    get onCancellationRequested() {\r\n        if (this._isCancelled) {\r\n            return shortcutEvent;\r\n        }\r\n        if (!this._emitter) {\r\n            this._emitter = new events_1.Emitter();\r\n        }\r\n        return this._emitter.event;\r\n    }\r\n    dispose() {\r\n        if (this._emitter) {\r\n            this._emitter.dispose();\r\n            this._emitter = undefined;\r\n        }\r\n    }\r\n}\r\nclass CancellationTokenSource {\r\n    get token() {\r\n        if (!this._token) {\r\n            // be lazy and create the token only when\r\n            // actually needed\r\n            this._token = new MutableToken();\r\n        }\r\n        return this._token;\r\n    }\r\n    cancel() {\r\n        if (!this._token) {\r\n            // save an object by returning the default\r\n            // cancelled token when cancellation happens\r\n            // before someone asks for the token\r\n            this._token = CancellationToken.Cancelled;\r\n        }\r\n        else {\r\n            this._token.cancel();\r\n        }\r\n    }\r\n    dispose() {\r\n        if (!this._token) {\r\n            // ensure to initialize with an empty token if we had none\r\n            this._token = CancellationToken.None;\r\n        }\r\n        else if (this._token instanceof MutableToken) {\r\n            // actually dispose\r\n            this._token.dispose();\r\n        }\r\n    }\r\n}\r\nexports.CancellationTokenSource = CancellationTokenSource;\r\n","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Touch;\r\n(function (Touch) {\r\n    Touch.None = 0;\r\n    Touch.First = 1;\r\n    Touch.Last = 2;\r\n})(Touch = exports.Touch || (exports.Touch = {}));\r\nclass LinkedMap {\r\n    constructor() {\r\n        this._map = new Map();\r\n        this._head = undefined;\r\n        this._tail = undefined;\r\n        this._size = 0;\r\n    }\r\n    clear() {\r\n        this._map.clear();\r\n        this._head = undefined;\r\n        this._tail = undefined;\r\n        this._size = 0;\r\n    }\r\n    isEmpty() {\r\n        return !this._head && !this._tail;\r\n    }\r\n    get size() {\r\n        return this._size;\r\n    }\r\n    has(key) {\r\n        return this._map.has(key);\r\n    }\r\n    get(key) {\r\n        const item = this._map.get(key);\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        return item.value;\r\n    }\r\n    set(key, value, touch = Touch.None) {\r\n        let item = this._map.get(key);\r\n        if (item) {\r\n            item.value = value;\r\n            if (touch !== Touch.None) {\r\n                this.touch(item, touch);\r\n            }\r\n        }\r\n        else {\r\n            item = { key, value, next: undefined, previous: undefined };\r\n            switch (touch) {\r\n                case Touch.None:\r\n                    this.addItemLast(item);\r\n                    break;\r\n                case Touch.First:\r\n                    this.addItemFirst(item);\r\n                    break;\r\n                case Touch.Last:\r\n                    this.addItemLast(item);\r\n                    break;\r\n                default:\r\n                    this.addItemLast(item);\r\n                    break;\r\n            }\r\n            this._map.set(key, item);\r\n            this._size++;\r\n        }\r\n    }\r\n    delete(key) {\r\n        const item = this._map.get(key);\r\n        if (!item) {\r\n            return false;\r\n        }\r\n        this._map.delete(key);\r\n        this.removeItem(item);\r\n        this._size--;\r\n        return true;\r\n    }\r\n    shift() {\r\n        if (!this._head && !this._tail) {\r\n            return undefined;\r\n        }\r\n        if (!this._head || !this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        const item = this._head;\r\n        this._map.delete(item.key);\r\n        this.removeItem(item);\r\n        this._size--;\r\n        return item.value;\r\n    }\r\n    forEach(callbackfn, thisArg) {\r\n        let current = this._head;\r\n        while (current) {\r\n            if (thisArg) {\r\n                callbackfn.bind(thisArg)(current.value, current.key, this);\r\n            }\r\n            else {\r\n                callbackfn(current.value, current.key, this);\r\n            }\r\n            current = current.next;\r\n        }\r\n    }\r\n    forEachReverse(callbackfn, thisArg) {\r\n        let current = this._tail;\r\n        while (current) {\r\n            if (thisArg) {\r\n                callbackfn.bind(thisArg)(current.value, current.key, this);\r\n            }\r\n            else {\r\n                callbackfn(current.value, current.key, this);\r\n            }\r\n            current = current.previous;\r\n        }\r\n    }\r\n    values() {\r\n        let result = [];\r\n        let current = this._head;\r\n        while (current) {\r\n            result.push(current.value);\r\n            current = current.next;\r\n        }\r\n        return result;\r\n    }\r\n    keys() {\r\n        let result = [];\r\n        let current = this._head;\r\n        while (current) {\r\n            result.push(current.key);\r\n            current = current.next;\r\n        }\r\n        return result;\r\n    }\r\n    /* JSON RPC run on es5 which has no Symbol.iterator\r\n    public keys(): IterableIterator<K> {\r\n        let current = this._head;\r\n        let iterator: IterableIterator<K> = {\r\n            [Symbol.iterator]() {\r\n                return iterator;\r\n            },\r\n            next():IteratorResult<K> {\r\n                if (current) {\r\n                    let result = { value: current.key, done: false };\r\n                    current = current.next;\r\n                    return result;\r\n                } else {\r\n                    return { value: undefined, done: true };\r\n                }\r\n            }\r\n        };\r\n        return iterator;\r\n    }\r\n\r\n    public values(): IterableIterator<V> {\r\n        let current = this._head;\r\n        let iterator: IterableIterator<V> = {\r\n            [Symbol.iterator]() {\r\n                return iterator;\r\n            },\r\n            next():IteratorResult<V> {\r\n                if (current) {\r\n                    let result = { value: current.value, done: false };\r\n                    current = current.next;\r\n                    return result;\r\n                } else {\r\n                    return { value: undefined, done: true };\r\n                }\r\n            }\r\n        };\r\n        return iterator;\r\n    }\r\n    */\r\n    addItemFirst(item) {\r\n        // First time Insert\r\n        if (!this._head && !this._tail) {\r\n            this._tail = item;\r\n        }\r\n        else if (!this._head) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        else {\r\n            item.next = this._head;\r\n            this._head.previous = item;\r\n        }\r\n        this._head = item;\r\n    }\r\n    addItemLast(item) {\r\n        // First time Insert\r\n        if (!this._head && !this._tail) {\r\n            this._head = item;\r\n        }\r\n        else if (!this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        else {\r\n            item.previous = this._tail;\r\n            this._tail.next = item;\r\n        }\r\n        this._tail = item;\r\n    }\r\n    removeItem(item) {\r\n        if (item === this._head && item === this._tail) {\r\n            this._head = undefined;\r\n            this._tail = undefined;\r\n        }\r\n        else if (item === this._head) {\r\n            this._head = item.next;\r\n        }\r\n        else if (item === this._tail) {\r\n            this._tail = item.previous;\r\n        }\r\n        else {\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            if (!next || !previous) {\r\n                throw new Error('Invalid list');\r\n            }\r\n            next.previous = previous;\r\n            previous.next = next;\r\n        }\r\n    }\r\n    touch(item, touch) {\r\n        if (!this._head || !this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\r\n            return;\r\n        }\r\n        if (touch === Touch.First) {\r\n            if (item === this._head) {\r\n                return;\r\n            }\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            // Unlink the item\r\n            if (item === this._tail) {\r\n                // previous must be defined since item was not head but is tail\r\n                // So there are more than on item in the map\r\n                previous.next = undefined;\r\n                this._tail = previous;\r\n            }\r\n            else {\r\n                // Both next and previous are not undefined since item was neither head nor tail.\r\n                next.previous = previous;\r\n                previous.next = next;\r\n            }\r\n            // Insert the node at head\r\n            item.previous = undefined;\r\n            item.next = this._head;\r\n            this._head.previous = item;\r\n            this._head = item;\r\n        }\r\n        else if (touch === Touch.Last) {\r\n            if (item === this._tail) {\r\n                return;\r\n            }\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            // Unlink the item.\r\n            if (item === this._head) {\r\n                // next must be defined since item was not tail but is head\r\n                // So there are more than on item in the map\r\n                next.previous = undefined;\r\n                this._head = next;\r\n            }\r\n            else {\r\n                // Both next and previous are not undefined since item was neither head nor tail.\r\n                next.previous = previous;\r\n                previous.next = next;\r\n            }\r\n            item.next = undefined;\r\n            item.previous = this._tail;\r\n            this._tail.next = item;\r\n            this._tail = item;\r\n        }\r\n    }\r\n}\r\nexports.LinkedMap = LinkedMap;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst path_1 = require(\"path\");\r\nconst os_1 = require(\"os\");\r\nconst crypto_1 = require(\"crypto\");\r\nconst net_1 = require(\"net\");\r\nconst messageReader_1 = require(\"./messageReader\");\r\nconst messageWriter_1 = require(\"./messageWriter\");\r\nfunction generateRandomPipeName() {\r\n    const randomSuffix = crypto_1.randomBytes(21).toString('hex');\r\n    if (process.platform === 'win32') {\r\n        return `\\\\\\\\.\\\\pipe\\\\vscode-jsonrpc-${randomSuffix}-sock`;\r\n    }\r\n    else {\r\n        // Mac/Unix: use socket file\r\n        return path_1.join(os_1.tmpdir(), `vscode-${randomSuffix}.sock`);\r\n    }\r\n}\r\nexports.generateRandomPipeName = generateRandomPipeName;\r\nfunction createClientPipeTransport(pipeName, encoding = 'utf-8') {\r\n    let connectResolve;\r\n    let connected = new Promise((resolve, _reject) => {\r\n        connectResolve = resolve;\r\n    });\r\n    return new Promise((resolve, reject) => {\r\n        let server = net_1.createServer((socket) => {\r\n            server.close();\r\n            connectResolve([\r\n                new messageReader_1.SocketMessageReader(socket, encoding),\r\n                new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n            ]);\r\n        });\r\n        server.on('error', reject);\r\n        server.listen(pipeName, () => {\r\n            server.removeListener('error', reject);\r\n            resolve({\r\n                onConnected: () => { return connected; }\r\n            });\r\n        });\r\n    });\r\n}\r\nexports.createClientPipeTransport = createClientPipeTransport;\r\nfunction createServerPipeTransport(pipeName, encoding = 'utf-8') {\r\n    const socket = net_1.createConnection(pipeName);\r\n    return [\r\n        new messageReader_1.SocketMessageReader(socket, encoding),\r\n        new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n    ];\r\n}\r\nexports.createServerPipeTransport = createServerPipeTransport;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst net_1 = require(\"net\");\r\nconst messageReader_1 = require(\"./messageReader\");\r\nconst messageWriter_1 = require(\"./messageWriter\");\r\nfunction createClientSocketTransport(port, encoding = 'utf-8') {\r\n    let connectResolve;\r\n    let connected = new Promise((resolve, _reject) => {\r\n        connectResolve = resolve;\r\n    });\r\n    return new Promise((resolve, reject) => {\r\n        let server = net_1.createServer((socket) => {\r\n            server.close();\r\n            connectResolve([\r\n                new messageReader_1.SocketMessageReader(socket, encoding),\r\n                new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n            ]);\r\n        });\r\n        server.on('error', reject);\r\n        server.listen(port, '127.0.0.1', () => {\r\n            server.removeListener('error', reject);\r\n            resolve({\r\n                onConnected: () => { return connected; }\r\n            });\r\n        });\r\n    });\r\n}\r\nexports.createClientSocketTransport = createClientSocketTransport;\r\nfunction createServerSocketTransport(port, encoding = 'utf-8') {\r\n    const socket = net_1.createConnection(port, '127.0.0.1');\r\n    return [\r\n        new messageReader_1.SocketMessageReader(socket, encoding),\r\n        new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n    ];\r\n}\r\nexports.createServerSocketTransport = createServerSocketTransport;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n/// <reference path=\"../typings/thenable.d.ts\" />\r\n'use strict';\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Is = require(\"./is\");\r\nconst messages_1 = require(\"./messages\");\r\nexports.RequestType = messages_1.RequestType;\r\nexports.RequestType0 = messages_1.RequestType0;\r\nexports.RequestType1 = messages_1.RequestType1;\r\nexports.RequestType2 = messages_1.RequestType2;\r\nexports.RequestType3 = messages_1.RequestType3;\r\nexports.RequestType4 = messages_1.RequestType4;\r\nexports.RequestType5 = messages_1.RequestType5;\r\nexports.RequestType6 = messages_1.RequestType6;\r\nexports.RequestType7 = messages_1.RequestType7;\r\nexports.RequestType8 = messages_1.RequestType8;\r\nexports.RequestType9 = messages_1.RequestType9;\r\nexports.ResponseError = messages_1.ResponseError;\r\nexports.ErrorCodes = messages_1.ErrorCodes;\r\nexports.NotificationType = messages_1.NotificationType;\r\nexports.NotificationType0 = messages_1.NotificationType0;\r\nexports.NotificationType1 = messages_1.NotificationType1;\r\nexports.NotificationType2 = messages_1.NotificationType2;\r\nexports.NotificationType3 = messages_1.NotificationType3;\r\nexports.NotificationType4 = messages_1.NotificationType4;\r\nexports.NotificationType5 = messages_1.NotificationType5;\r\nexports.NotificationType6 = messages_1.NotificationType6;\r\nexports.NotificationType7 = messages_1.NotificationType7;\r\nexports.NotificationType8 = messages_1.NotificationType8;\r\nexports.NotificationType9 = messages_1.NotificationType9;\r\nconst messageReader_1 = require(\"./messageReader\");\r\nexports.MessageReader = messageReader_1.MessageReader;\r\nexports.StreamMessageReader = messageReader_1.StreamMessageReader;\r\nexports.IPCMessageReader = messageReader_1.IPCMessageReader;\r\nexports.SocketMessageReader = messageReader_1.SocketMessageReader;\r\nconst messageWriter_1 = require(\"./messageWriter\");\r\nexports.MessageWriter = messageWriter_1.MessageWriter;\r\nexports.StreamMessageWriter = messageWriter_1.StreamMessageWriter;\r\nexports.IPCMessageWriter = messageWriter_1.IPCMessageWriter;\r\nexports.SocketMessageWriter = messageWriter_1.SocketMessageWriter;\r\nconst events_1 = require(\"./events\");\r\nexports.Disposable = events_1.Disposable;\r\nexports.Event = events_1.Event;\r\nexports.Emitter = events_1.Emitter;\r\nconst cancellation_1 = require(\"./cancellation\");\r\nexports.CancellationTokenSource = cancellation_1.CancellationTokenSource;\r\nexports.CancellationToken = cancellation_1.CancellationToken;\r\nconst linkedMap_1 = require(\"./linkedMap\");\r\n__export(require(\"./pipeSupport\"));\r\n__export(require(\"./socketSupport\"));\r\nvar CancelNotification;\r\n(function (CancelNotification) {\r\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\r\n})(CancelNotification || (CancelNotification = {}));\r\nvar ProgressNotification;\r\n(function (ProgressNotification) {\r\n    ProgressNotification.type = new messages_1.NotificationType('$/progress');\r\n})(ProgressNotification || (ProgressNotification = {}));\r\nclass ProgressType {\r\n    constructor() {\r\n    }\r\n}\r\nexports.ProgressType = ProgressType;\r\nexports.NullLogger = Object.freeze({\r\n    error: () => { },\r\n    warn: () => { },\r\n    info: () => { },\r\n    log: () => { }\r\n});\r\nvar Trace;\r\n(function (Trace) {\r\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\r\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\r\n    Trace[Trace[\"Verbose\"] = 2] = \"Verbose\";\r\n})(Trace = exports.Trace || (exports.Trace = {}));\r\n(function (Trace) {\r\n    function fromString(value) {\r\n        if (!Is.string(value)) {\r\n            return Trace.Off;\r\n        }\r\n        value = value.toLowerCase();\r\n        switch (value) {\r\n            case 'off':\r\n                return Trace.Off;\r\n            case 'messages':\r\n                return Trace.Messages;\r\n            case 'verbose':\r\n                return Trace.Verbose;\r\n            default:\r\n                return Trace.Off;\r\n        }\r\n    }\r\n    Trace.fromString = fromString;\r\n    function toString(value) {\r\n        switch (value) {\r\n            case Trace.Off:\r\n                return 'off';\r\n            case Trace.Messages:\r\n                return 'messages';\r\n            case Trace.Verbose:\r\n                return 'verbose';\r\n            default:\r\n                return 'off';\r\n        }\r\n    }\r\n    Trace.toString = toString;\r\n})(Trace = exports.Trace || (exports.Trace = {}));\r\nvar TraceFormat;\r\n(function (TraceFormat) {\r\n    TraceFormat[\"Text\"] = \"text\";\r\n    TraceFormat[\"JSON\"] = \"json\";\r\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\r\n(function (TraceFormat) {\r\n    function fromString(value) {\r\n        value = value.toLowerCase();\r\n        if (value === 'json') {\r\n            return TraceFormat.JSON;\r\n        }\r\n        else {\r\n            return TraceFormat.Text;\r\n        }\r\n    }\r\n    TraceFormat.fromString = fromString;\r\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\r\nvar SetTraceNotification;\r\n(function (SetTraceNotification) {\r\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTraceNotification');\r\n})(SetTraceNotification = exports.SetTraceNotification || (exports.SetTraceNotification = {}));\r\nvar LogTraceNotification;\r\n(function (LogTraceNotification) {\r\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTraceNotification');\r\n})(LogTraceNotification = exports.LogTraceNotification || (exports.LogTraceNotification = {}));\r\nvar ConnectionErrors;\r\n(function (ConnectionErrors) {\r\n    /**\r\n     * The connection is closed.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\r\n    /**\r\n     * The connection got disposed.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\r\n    /**\r\n     * The connection is already in listening mode.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\r\n})(ConnectionErrors = exports.ConnectionErrors || (exports.ConnectionErrors = {}));\r\nclass ConnectionError extends Error {\r\n    constructor(code, message) {\r\n        super(message);\r\n        this.code = code;\r\n        Object.setPrototypeOf(this, ConnectionError.prototype);\r\n    }\r\n}\r\nexports.ConnectionError = ConnectionError;\r\nvar ConnectionStrategy;\r\n(function (ConnectionStrategy) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.cancelUndispatched);\r\n    }\r\n    ConnectionStrategy.is = is;\r\n})(ConnectionStrategy = exports.ConnectionStrategy || (exports.ConnectionStrategy = {}));\r\nvar ConnectionState;\r\n(function (ConnectionState) {\r\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\r\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\r\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\r\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\r\n})(ConnectionState || (ConnectionState = {}));\r\nfunction _createMessageConnection(messageReader, messageWriter, logger, strategy) {\r\n    let sequenceNumber = 0;\r\n    let notificationSquenceNumber = 0;\r\n    let unknownResponseSquenceNumber = 0;\r\n    const version = '2.0';\r\n    let starRequestHandler = undefined;\r\n    let requestHandlers = Object.create(null);\r\n    let starNotificationHandler = undefined;\r\n    let notificationHandlers = Object.create(null);\r\n    let progressHandlers = new Map();\r\n    let timer;\r\n    let messageQueue = new linkedMap_1.LinkedMap();\r\n    let responsePromises = Object.create(null);\r\n    let requestTokens = Object.create(null);\r\n    let trace = Trace.Off;\r\n    let traceFormat = TraceFormat.Text;\r\n    let tracer;\r\n    let state = ConnectionState.New;\r\n    let errorEmitter = new events_1.Emitter();\r\n    let closeEmitter = new events_1.Emitter();\r\n    let unhandledNotificationEmitter = new events_1.Emitter();\r\n    let unhandledProgressEmitter = new events_1.Emitter();\r\n    let disposeEmitter = new events_1.Emitter();\r\n    function createRequestQueueKey(id) {\r\n        return 'req-' + id.toString();\r\n    }\r\n    function createResponseQueueKey(id) {\r\n        if (id === null) {\r\n            return 'res-unknown-' + (++unknownResponseSquenceNumber).toString();\r\n        }\r\n        else {\r\n            return 'res-' + id.toString();\r\n        }\r\n    }\r\n    function createNotificationQueueKey() {\r\n        return 'not-' + (++notificationSquenceNumber).toString();\r\n    }\r\n    function addMessageToQueue(queue, message) {\r\n        if (messages_1.isRequestMessage(message)) {\r\n            queue.set(createRequestQueueKey(message.id), message);\r\n        }\r\n        else if (messages_1.isResponseMessage(message)) {\r\n            queue.set(createResponseQueueKey(message.id), message);\r\n        }\r\n        else {\r\n            queue.set(createNotificationQueueKey(), message);\r\n        }\r\n    }\r\n    function cancelUndispatched(_message) {\r\n        return undefined;\r\n    }\r\n    function isListening() {\r\n        return state === ConnectionState.Listening;\r\n    }\r\n    function isClosed() {\r\n        return state === ConnectionState.Closed;\r\n    }\r\n    function isDisposed() {\r\n        return state === ConnectionState.Disposed;\r\n    }\r\n    function closeHandler() {\r\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\r\n            state = ConnectionState.Closed;\r\n            closeEmitter.fire(undefined);\r\n        }\r\n        // If the connection is disposed don't sent close events.\r\n    }\r\n    function readErrorHandler(error) {\r\n        errorEmitter.fire([error, undefined, undefined]);\r\n    }\r\n    function writeErrorHandler(data) {\r\n        errorEmitter.fire(data);\r\n    }\r\n    messageReader.onClose(closeHandler);\r\n    messageReader.onError(readErrorHandler);\r\n    messageWriter.onClose(closeHandler);\r\n    messageWriter.onError(writeErrorHandler);\r\n    function triggerMessageQueue() {\r\n        if (timer || messageQueue.size === 0) {\r\n            return;\r\n        }\r\n        timer = setImmediate(() => {\r\n            timer = undefined;\r\n            processMessageQueue();\r\n        });\r\n    }\r\n    function processMessageQueue() {\r\n        if (messageQueue.size === 0) {\r\n            return;\r\n        }\r\n        let message = messageQueue.shift();\r\n        try {\r\n            if (messages_1.isRequestMessage(message)) {\r\n                handleRequest(message);\r\n            }\r\n            else if (messages_1.isNotificationMessage(message)) {\r\n                handleNotification(message);\r\n            }\r\n            else if (messages_1.isResponseMessage(message)) {\r\n                handleResponse(message);\r\n            }\r\n            else {\r\n                handleInvalidMessage(message);\r\n            }\r\n        }\r\n        finally {\r\n            triggerMessageQueue();\r\n        }\r\n    }\r\n    let callback = (message) => {\r\n        try {\r\n            // We have received a cancellation message. Check if the message is still in the queue\r\n            // and cancel it if allowed to do so.\r\n            if (messages_1.isNotificationMessage(message) && message.method === CancelNotification.type.method) {\r\n                let key = createRequestQueueKey(message.params.id);\r\n                let toCancel = messageQueue.get(key);\r\n                if (messages_1.isRequestMessage(toCancel)) {\r\n                    let response = strategy && strategy.cancelUndispatched ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\r\n                    if (response && (response.error !== void 0 || response.result !== void 0)) {\r\n                        messageQueue.delete(key);\r\n                        response.id = toCancel.id;\r\n                        traceSendingResponse(response, message.method, Date.now());\r\n                        messageWriter.write(response);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            addMessageToQueue(messageQueue, message);\r\n        }\r\n        finally {\r\n            triggerMessageQueue();\r\n        }\r\n    };\r\n    function handleRequest(requestMessage) {\r\n        if (isDisposed()) {\r\n            // we return here silently since we fired an event when the\r\n            // connection got disposed.\r\n            return;\r\n        }\r\n        function reply(resultOrError, method, startTime) {\r\n            let message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id\r\n            };\r\n            if (resultOrError instanceof messages_1.ResponseError) {\r\n                message.error = resultOrError.toJson();\r\n            }\r\n            else {\r\n                message.result = resultOrError === void 0 ? null : resultOrError;\r\n            }\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        function replyError(error, method, startTime) {\r\n            let message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id,\r\n                error: error.toJson()\r\n            };\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        function replySuccess(result, method, startTime) {\r\n            // The JSON RPC defines that a response must either have a result or an error\r\n            // So we can't treat undefined as a valid response result.\r\n            if (result === void 0) {\r\n                result = null;\r\n            }\r\n            let message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id,\r\n                result: result\r\n            };\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        traceReceivedRequest(requestMessage);\r\n        let element = requestHandlers[requestMessage.method];\r\n        let type;\r\n        let requestHandler;\r\n        if (element) {\r\n            type = element.type;\r\n            requestHandler = element.handler;\r\n        }\r\n        let startTime = Date.now();\r\n        if (requestHandler || starRequestHandler) {\r\n            let cancellationSource = new cancellation_1.CancellationTokenSource();\r\n            let tokenKey = String(requestMessage.id);\r\n            requestTokens[tokenKey] = cancellationSource;\r\n            try {\r\n                let handlerResult;\r\n                if (requestMessage.params === void 0 || (type !== void 0 && type.numberOfParams === 0)) {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, cancellationSource.token);\r\n                }\r\n                else if (Is.array(requestMessage.params) && (type === void 0 || type.numberOfParams > 1)) {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(...requestMessage.params, cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, ...requestMessage.params, cancellationSource.token);\r\n                }\r\n                else {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(requestMessage.params, cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\r\n                }\r\n                let promise = handlerResult;\r\n                if (!handlerResult) {\r\n                    delete requestTokens[tokenKey];\r\n                    replySuccess(handlerResult, requestMessage.method, startTime);\r\n                }\r\n                else if (promise.then) {\r\n                    promise.then((resultOrError) => {\r\n                        delete requestTokens[tokenKey];\r\n                        reply(resultOrError, requestMessage.method, startTime);\r\n                    }, error => {\r\n                        delete requestTokens[tokenKey];\r\n                        if (error instanceof messages_1.ResponseError) {\r\n                            replyError(error, requestMessage.method, startTime);\r\n                        }\r\n                        else if (error && Is.string(error.message)) {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\r\n                        }\r\n                        else {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    delete requestTokens[tokenKey];\r\n                    reply(handlerResult, requestMessage.method, startTime);\r\n                }\r\n            }\r\n            catch (error) {\r\n                delete requestTokens[tokenKey];\r\n                if (error instanceof messages_1.ResponseError) {\r\n                    reply(error, requestMessage.method, startTime);\r\n                }\r\n                else if (error && Is.string(error.message)) {\r\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\r\n                }\r\n                else {\r\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\r\n        }\r\n    }\r\n    function handleResponse(responseMessage) {\r\n        if (isDisposed()) {\r\n            // See handle request.\r\n            return;\r\n        }\r\n        if (responseMessage.id === null) {\r\n            if (responseMessage.error) {\r\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\r\n            }\r\n            else {\r\n                logger.error(`Received response message without id. No further error information provided.`);\r\n            }\r\n        }\r\n        else {\r\n            let key = String(responseMessage.id);\r\n            let responsePromise = responsePromises[key];\r\n            traceReceivedResponse(responseMessage, responsePromise);\r\n            if (responsePromise) {\r\n                delete responsePromises[key];\r\n                try {\r\n                    if (responseMessage.error) {\r\n                        let error = responseMessage.error;\r\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\r\n                    }\r\n                    else if (responseMessage.result !== void 0) {\r\n                        responsePromise.resolve(responseMessage.result);\r\n                    }\r\n                    else {\r\n                        throw new Error('Should never happen.');\r\n                    }\r\n                }\r\n                catch (error) {\r\n                    if (error.message) {\r\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\r\n                    }\r\n                    else {\r\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    function handleNotification(message) {\r\n        if (isDisposed()) {\r\n            // See handle request.\r\n            return;\r\n        }\r\n        let type = undefined;\r\n        let notificationHandler;\r\n        if (message.method === CancelNotification.type.method) {\r\n            notificationHandler = (params) => {\r\n                let id = params.id;\r\n                let source = requestTokens[String(id)];\r\n                if (source) {\r\n                    source.cancel();\r\n                }\r\n            };\r\n        }\r\n        else {\r\n            let element = notificationHandlers[message.method];\r\n            if (element) {\r\n                notificationHandler = element.handler;\r\n                type = element.type;\r\n            }\r\n        }\r\n        if (notificationHandler || starNotificationHandler) {\r\n            try {\r\n                traceReceivedNotification(message);\r\n                if (message.params === void 0 || (type !== void 0 && type.numberOfParams === 0)) {\r\n                    notificationHandler ? notificationHandler() : starNotificationHandler(message.method);\r\n                }\r\n                else if (Is.array(message.params) && (type === void 0 || type.numberOfParams > 1)) {\r\n                    notificationHandler ? notificationHandler(...message.params) : starNotificationHandler(message.method, ...message.params);\r\n                }\r\n                else {\r\n                    notificationHandler ? notificationHandler(message.params) : starNotificationHandler(message.method, message.params);\r\n                }\r\n            }\r\n            catch (error) {\r\n                if (error.message) {\r\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\r\n                }\r\n                else {\r\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            unhandledNotificationEmitter.fire(message);\r\n        }\r\n    }\r\n    function handleInvalidMessage(message) {\r\n        if (!message) {\r\n            logger.error('Received empty message.');\r\n            return;\r\n        }\r\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\r\n        // Test whether we find an id to reject the promise\r\n        let responseMessage = message;\r\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\r\n            let key = String(responseMessage.id);\r\n            let responseHandler = responsePromises[key];\r\n            if (responseHandler) {\r\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\r\n            }\r\n        }\r\n    }\r\n    function traceSendingRequest(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose && message.params) {\r\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n            }\r\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-request', message);\r\n        }\r\n    }\r\n    function traceSendingNotification(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.params) {\r\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    data = 'No parameters provided.\\n\\n';\r\n                }\r\n            }\r\n            tracer.log(`Sending notification '${message.method}'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-notification', message);\r\n        }\r\n    }\r\n    function traceSendingResponse(message, method, startTime) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.error && message.error.data) {\r\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    if (message.result) {\r\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\r\n                    }\r\n                    else if (message.error === void 0) {\r\n                        data = 'No result returned.\\n\\n';\r\n                    }\r\n                }\r\n            }\r\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-response', message);\r\n        }\r\n    }\r\n    function traceReceivedRequest(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose && message.params) {\r\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n            }\r\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('receive-request', message);\r\n        }\r\n    }\r\n    function traceReceivedNotification(message) {\r\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.params) {\r\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    data = 'No parameters provided.\\n\\n';\r\n                }\r\n            }\r\n            tracer.log(`Received notification '${message.method}'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('receive-notification', message);\r\n        }\r\n    }\r\n    function traceReceivedResponse(message, responsePromise) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.error && message.error.data) {\r\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    if (message.result) {\r\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\r\n                    }\r\n                    else if (message.error === void 0) {\r\n                        data = 'No result returned.\\n\\n';\r\n                    }\r\n                }\r\n            }\r\n            if (responsePromise) {\r\n                let error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\r\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\r\n            }\r\n            else {\r\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\r\n            }\r\n        }\r\n        else {\r\n            logLSPMessage('receive-response', message);\r\n        }\r\n    }\r\n    function logLSPMessage(type, message) {\r\n        if (!tracer || trace === Trace.Off) {\r\n            return;\r\n        }\r\n        const lspMessage = {\r\n            isLSPMessage: true,\r\n            type,\r\n            message,\r\n            timestamp: Date.now()\r\n        };\r\n        tracer.log(lspMessage);\r\n    }\r\n    function throwIfClosedOrDisposed() {\r\n        if (isClosed()) {\r\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\r\n        }\r\n        if (isDisposed()) {\r\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\r\n        }\r\n    }\r\n    function throwIfListening() {\r\n        if (isListening()) {\r\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\r\n        }\r\n    }\r\n    function throwIfNotListening() {\r\n        if (!isListening()) {\r\n            throw new Error('Call listen() first.');\r\n        }\r\n    }\r\n    function undefinedToNull(param) {\r\n        if (param === void 0) {\r\n            return null;\r\n        }\r\n        else {\r\n            return param;\r\n        }\r\n    }\r\n    function computeMessageParams(type, params) {\r\n        let result;\r\n        let numberOfParams = type.numberOfParams;\r\n        switch (numberOfParams) {\r\n            case 0:\r\n                result = null;\r\n                break;\r\n            case 1:\r\n                result = undefinedToNull(params[0]);\r\n                break;\r\n            default:\r\n                result = [];\r\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\r\n                    result.push(undefinedToNull(params[i]));\r\n                }\r\n                if (params.length < numberOfParams) {\r\n                    for (let i = params.length; i < numberOfParams; i++) {\r\n                        result.push(null);\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n    let connection = {\r\n        sendNotification: (type, ...params) => {\r\n            throwIfClosedOrDisposed();\r\n            let method;\r\n            let messageParams;\r\n            if (Is.string(type)) {\r\n                method = type;\r\n                switch (params.length) {\r\n                    case 0:\r\n                        messageParams = null;\r\n                        break;\r\n                    case 1:\r\n                        messageParams = params[0];\r\n                        break;\r\n                    default:\r\n                        messageParams = params;\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                method = type.method;\r\n                messageParams = computeMessageParams(type, params);\r\n            }\r\n            let notificationMessage = {\r\n                jsonrpc: version,\r\n                method: method,\r\n                params: messageParams\r\n            };\r\n            traceSendingNotification(notificationMessage);\r\n            messageWriter.write(notificationMessage);\r\n        },\r\n        onNotification: (type, handler) => {\r\n            throwIfClosedOrDisposed();\r\n            if (Is.func(type)) {\r\n                starNotificationHandler = type;\r\n            }\r\n            else if (handler) {\r\n                if (Is.string(type)) {\r\n                    notificationHandlers[type] = { type: undefined, handler };\r\n                }\r\n                else {\r\n                    notificationHandlers[type.method] = { type, handler };\r\n                }\r\n            }\r\n        },\r\n        onProgress: (_type, token, handler) => {\r\n            if (progressHandlers.has(token)) {\r\n                throw new Error(`Progress handler for token ${token} already registered`);\r\n            }\r\n            progressHandlers.set(token, handler);\r\n            return {\r\n                dispose: () => {\r\n                    progressHandlers.delete(token);\r\n                }\r\n            };\r\n        },\r\n        sendProgress: (_type, token, value) => {\r\n            connection.sendNotification(ProgressNotification.type, { token, value });\r\n        },\r\n        onUnhandledProgress: unhandledProgressEmitter.event,\r\n        sendRequest: (type, ...params) => {\r\n            throwIfClosedOrDisposed();\r\n            throwIfNotListening();\r\n            let method;\r\n            let messageParams;\r\n            let token = undefined;\r\n            if (Is.string(type)) {\r\n                method = type;\r\n                switch (params.length) {\r\n                    case 0:\r\n                        messageParams = null;\r\n                        break;\r\n                    case 1:\r\n                        // The cancellation token is optional so it can also be undefined.\r\n                        if (cancellation_1.CancellationToken.is(params[0])) {\r\n                            messageParams = null;\r\n                            token = params[0];\r\n                        }\r\n                        else {\r\n                            messageParams = undefinedToNull(params[0]);\r\n                        }\r\n                        break;\r\n                    default:\r\n                        const last = params.length - 1;\r\n                        if (cancellation_1.CancellationToken.is(params[last])) {\r\n                            token = params[last];\r\n                            if (params.length === 2) {\r\n                                messageParams = undefinedToNull(params[0]);\r\n                            }\r\n                            else {\r\n                                messageParams = params.slice(0, last).map(value => undefinedToNull(value));\r\n                            }\r\n                        }\r\n                        else {\r\n                            messageParams = params.map(value => undefinedToNull(value));\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                method = type.method;\r\n                messageParams = computeMessageParams(type, params);\r\n                let numberOfParams = type.numberOfParams;\r\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\r\n            }\r\n            let id = sequenceNumber++;\r\n            let result = new Promise((resolve, reject) => {\r\n                let requestMessage = {\r\n                    jsonrpc: version,\r\n                    id: id,\r\n                    method: method,\r\n                    params: messageParams\r\n                };\r\n                let responsePromise = { method: method, timerStart: Date.now(), resolve, reject };\r\n                traceSendingRequest(requestMessage);\r\n                try {\r\n                    messageWriter.write(requestMessage);\r\n                }\r\n                catch (e) {\r\n                    // Writing the message failed. So we need to reject the promise.\r\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, e.message ? e.message : 'Unknown reason'));\r\n                    responsePromise = null;\r\n                }\r\n                if (responsePromise) {\r\n                    responsePromises[String(id)] = responsePromise;\r\n                }\r\n            });\r\n            if (token) {\r\n                token.onCancellationRequested(() => {\r\n                    connection.sendNotification(CancelNotification.type, { id });\r\n                });\r\n            }\r\n            return result;\r\n        },\r\n        onRequest: (type, handler) => {\r\n            throwIfClosedOrDisposed();\r\n            if (Is.func(type)) {\r\n                starRequestHandler = type;\r\n            }\r\n            else if (handler) {\r\n                if (Is.string(type)) {\r\n                    requestHandlers[type] = { type: undefined, handler };\r\n                }\r\n                else {\r\n                    requestHandlers[type.method] = { type, handler };\r\n                }\r\n            }\r\n        },\r\n        trace: (_value, _tracer, sendNotificationOrTraceOptions) => {\r\n            let _sendNotification = false;\r\n            let _traceFormat = TraceFormat.Text;\r\n            if (sendNotificationOrTraceOptions !== void 0) {\r\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\r\n                    _sendNotification = sendNotificationOrTraceOptions;\r\n                }\r\n                else {\r\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\r\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\r\n                }\r\n            }\r\n            trace = _value;\r\n            traceFormat = _traceFormat;\r\n            if (trace === Trace.Off) {\r\n                tracer = undefined;\r\n            }\r\n            else {\r\n                tracer = _tracer;\r\n            }\r\n            if (_sendNotification && !isClosed() && !isDisposed()) {\r\n                connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\r\n            }\r\n        },\r\n        onError: errorEmitter.event,\r\n        onClose: closeEmitter.event,\r\n        onUnhandledNotification: unhandledNotificationEmitter.event,\r\n        onDispose: disposeEmitter.event,\r\n        dispose: () => {\r\n            if (isDisposed()) {\r\n                return;\r\n            }\r\n            state = ConnectionState.Disposed;\r\n            disposeEmitter.fire(undefined);\r\n            let error = new Error('Connection got disposed.');\r\n            Object.keys(responsePromises).forEach((key) => {\r\n                responsePromises[key].reject(error);\r\n            });\r\n            responsePromises = Object.create(null);\r\n            requestTokens = Object.create(null);\r\n            messageQueue = new linkedMap_1.LinkedMap();\r\n            // Test for backwards compatibility\r\n            if (Is.func(messageWriter.dispose)) {\r\n                messageWriter.dispose();\r\n            }\r\n            if (Is.func(messageReader.dispose)) {\r\n                messageReader.dispose();\r\n            }\r\n        },\r\n        listen: () => {\r\n            throwIfClosedOrDisposed();\r\n            throwIfListening();\r\n            state = ConnectionState.Listening;\r\n            messageReader.listen(callback);\r\n        },\r\n        inspect: () => {\r\n            // eslint-disable-next-line no-console\r\n            console.log('inspect');\r\n        }\r\n    };\r\n    connection.onNotification(LogTraceNotification.type, (params) => {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        tracer.log(params.message, trace === Trace.Verbose ? params.verbose : undefined);\r\n    });\r\n    connection.onNotification(ProgressNotification.type, (params) => {\r\n        const handler = progressHandlers.get(params.token);\r\n        if (handler) {\r\n            handler(params.value);\r\n        }\r\n        else {\r\n            unhandledProgressEmitter.fire(params);\r\n        }\r\n    });\r\n    return connection;\r\n}\r\nfunction isMessageReader(value) {\r\n    return value.listen !== void 0 && value.read === void 0;\r\n}\r\nfunction isMessageWriter(value) {\r\n    return value.write !== void 0 && value.end === void 0;\r\n}\r\nfunction createMessageConnection(input, output, logger, strategy) {\r\n    if (!logger) {\r\n        logger = exports.NullLogger;\r\n    }\r\n    let reader = isMessageReader(input) ? input : new messageReader_1.StreamMessageReader(input);\r\n    let writer = isMessageWriter(output) ? output : new messageWriter_1.StreamMessageWriter(output);\r\n    return _createMessageConnection(reader, writer, logger, strategy);\r\n}\r\nexports.createMessageConnection = createMessageConnection;\r\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) 2024 TypeFox and others.\n * Licensed under the MIT License. See LICENSE in the package root for license information.\n * ------------------------------------------------------------------------------------------ */\n\nimport { MessageConnection, createMessageConnection, Logger } from 'vscode-jsonrpc';\nimport { IWebSocket } from './socket.js';\nimport { WebSocketMessageReader } from './reader.js';\nimport { WebSocketMessageWriter } from './writer.js';\n\nexport function createWebSocketConnection(socket: IWebSocket, logger: Logger): MessageConnection {\n    const messageReader = new WebSocketMessageReader(socket);\n    const messageWriter = new WebSocketMessageWriter(socket);\n    const connection = createMessageConnection(messageReader, messageWriter, logger);\n    connection.onClose(() => connection.dispose());\n    return connection;\n}\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) 2024 TypeFox and others.\n * Licensed under the MIT License. See LICENSE in the package root for license information.\n * ------------------------------------------------------------------------------------------ */\nimport { Logger } from 'vscode-jsonrpc';\n\nexport class ConsoleLogger implements Logger {\n    public error(message: string): void {\n        console.error(message);\n    }\n\n    public warn(message: string): void {\n        console.warn(message);\n    }\n\n    public info(message: string): void {\n        console.info(message);\n    }\n\n    public log(message: string): void {\n        console.log(message);\n    }\n\n    public debug(message: string): void {\n        console.debug(message);\n    }\n}\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) 2024 TypeFox and others.\n * Licensed under the MIT License. See LICENSE in the package root for license information.\n * ------------------------------------------------------------------------------------------ */\n\nimport { MessageConnection, Logger } from 'vscode-jsonrpc';\nimport { createWebSocketConnection } from './socket/connection.js';\nimport { IWebSocket } from './socket/socket.js';\nimport { ConsoleLogger } from './logger.js';\n\nexport function listen(options: {\n    webSocket: WebSocket;\n    logger?: Logger;\n    onConnection: (connection: MessageConnection) => void;\n}) {\n    const { webSocket, onConnection } = options;\n    const logger = options.logger || new ConsoleLogger();\n    webSocket.onopen = () => {\n        const socket = toSocket(webSocket);\n        const connection = createWebSocketConnection(socket, logger);\n        onConnection(connection);\n    };\n}\n\nexport function toSocket(webSocket: WebSocket): IWebSocket {\n    return {\n        send: content => webSocket.send(content),\n        onMessage: cb => {\n            webSocket.onmessage = event => cb(event.data);\n        },\n        onError: cb => {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            webSocket.onerror = (event: any) => {\n                if (Object.hasOwn(event, 'message')) {\n                    cb(event.message);\n                }\n            };\n        },\n        onClose: cb => {\n            webSocket.onclose = event => cb(event.code, event.reason);\n        },\n        dispose: () => webSocket.close()\n    };\n}\n"],"names":["is","boolean","string","number","error","func","array","stringArray","events","ral_1","require$$0","messageReader","Is","require$$1","events_1","require$$2","semaphore_1","require$$3","AbstractMessageReader","messageWriter","AbstractMessageWriter","net_1","messageReader_1","require$$4","messageWriter_1","require$$5","require$$6","require$$7","require$$8","createMessageConnection"],"mappings":"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","x_google_ignoreList":[1,2,3,4,5,7,9,10,11,12,13,14,15,16,17,18]}